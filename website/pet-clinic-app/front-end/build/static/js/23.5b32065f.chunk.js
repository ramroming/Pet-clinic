(this["webpackJsonppet-clinic-app"]=this["webpackJsonppet-clinic-app"]||[]).push([[23],{257:function(e,t,n){"use strict";n.r(t);var r=n(8),c=n.n(r),i=n(11),a=n(31),o=n(4),s=n(1),u=n(267),l=n(55),p=n(63),f=n(30),b=n(5),d=n(12),j=n(0),O=p.a;t.default=function(){var e=Object(s.useState)({isLoading:!0,pets:[],responseError:!1}),t=Object(o.a)(e,2),n=t[0],r=t[1],p=Object(f.a)(),v=Object(s.useContext)(d.a);return Object(s.useEffect)((function(){var e=!0;e&&r((function(e){return Object(a.a)(Object(a.a)({},e),{},{isLoading:!0})}));var t=function(){var t=Object(i.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p("".concat("https://pet-verse-app.herokuapp.com/","users/me/pets/"),"GET",null,{Authorization:"Bearer ".concat(v.token)});case 3:(n=t.sent)&&e&&r((function(e){return Object(a.a)(Object(a.a)({},e),{},{isLoading:!1,pets:n})})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e&&r((function(e){return Object(a.a)(Object(a.a)({},e),{},{responseError:t.t0.message,isLoading:!1})}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}),[v.token,p]),Object(j.jsx)("div",{className:"post-pet-container",children:Object(j.jsxs)("div",{className:"post-pet-dark-container flex-col gap-24p falign-center",children:[Object(j.jsx)("p",{className:"select-pet",children:"Select your pet that you want to put up for adoption: "}),n.isLoading&&Object(j.jsx)(u.a.div,{variants:O,initial:"initial",animate:"final",exit:"exit",className:"flex-row fjust-center",children:Object(j.jsxs)("div",{className:"lds-ripple",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})}),Object(j.jsxs)("div",{className:"post-pets-container flex-col gap-16p falign-center",children:[Object(j.jsx)(l.a,{exitBeforeEnter:!0,children:n&&0===n.pets.length&&!n.isLoading&&Object(j.jsxs)("div",{className:"flex-col falign-center gap-24p",style:{width:"70%"},children:[Object(j.jsx)("p",{style:{color:"white"},children:"Looks like you have no registered pets, you can register your pet from here"}),Object(j.jsx)(b.b,{to:"/registerpet",state:{from:"/postad"},className:"btn-r btn-r-blue",style:{width:"9rem",padding:".5rem"},children:"Register pet"})]})}),n.pets.map((function(e,t){return Object(j.jsxs)(u.a.div,{variants:O,initial:"initial",animate:"final",className:"pet-to-post flex-col gap-8p falign-center",children:[Object(j.jsx)("p",{className:"post-pet-name",children:e.name}),Object(j.jsx)("img",{src:e.photo?URL.createObjectURL(new Blob([new Uint8Array(e.photo.data)])):"/media/imgs/cat.png",alt:"pet-img",className:"post-pet-img"}),Object(j.jsx)(b.b,{className:"post-pet-button btn-rec-purple",to:"/postpreview/".concat(e.id),children:"Put up for adoption"})]},e.id)}))]})]})})}},27:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},30:function(e,t,n){"use strict";var r=n(8),c=n.n(r),i=n(11),a=n(1);t.a=function(){var e=Object(a.useCallback)(function(){var e=Object(i.a)(c.a.mark((function e(t){var n,r,i,a,o,s=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"GET",r=s.length>2&&void 0!==s[2]?s[2]:null,i=s.length>3&&void 0!==s[3]?s[3]:{},e.prev=3,e.next=6,fetch(t,{method:n,headers:i,body:r});case 6:return a=e.sent,e.next=9,a.json();case 9:if(o=e.sent,a.ok){e.next=12;break}throw new Error(o.error);case 12:return e.abrupt("return",o);case 15:throw e.prev=15,e.t0=e.catch(3),e.t0;case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),[]);return e}},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(27);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(24),c=n(1),i=n(40);var a=n(37),o=n(39),s=0;function u(){var e=s;return s++,e}var l=function(e){var t=e.children,n=e.initial,r=e.isPresent,i=e.onExitComplete,s=e.custom,l=e.presenceAffectsLayout,f=Object(o.a)(p),b=Object(o.a)(u),d=Object(c.useMemo)((function(){return{id:b,initial:n,isPresent:r,custom:s,onExitComplete:function(e){f.set(e,!0);var t=!0;f.forEach((function(e){e||(t=!1)})),t&&(null===i||void 0===i||i())},register:function(e){return f.set(e,!1),function(){return f.delete(e)}}}}),l?void 0:[r]);return Object(c.useMemo)((function(){f.forEach((function(e,t){return f.set(t,!1)}))}),[r]),c.useEffect((function(){!r&&!f.size&&(null===i||void 0===i||i())}),[r]),c.createElement(a.a.Provider,{value:d},t)};function p(){return new Map}var f=n(45);function b(e){return e.key||""}var d=function(e){var t=e.children,n=e.custom,a=e.initial,o=void 0===a||a,s=e.onExitComplete,u=e.exitBeforeEnter,p=e.presenceAffectsLayout,d=void 0===p||p,j=function(){var e=Object(c.useRef)(!1),t=Object(r.c)(Object(c.useState)(0),2),n=t[0],a=t[1];return Object(i.a)((function(){return e.current=!0})),Object(c.useCallback)((function(){!e.current&&a(n+1)}),[n])}(),O=Object(c.useContext)(f.b);Object(f.c)(O)&&(j=O.forceUpdate);var v=Object(c.useRef)(!0),m=function(e){var t=[];return c.Children.forEach(e,(function(e){Object(c.isValidElement)(e)&&t.push(e)})),t}(t),h=Object(c.useRef)(m),x=Object(c.useRef)(new Map).current,g=Object(c.useRef)(new Set).current;if(function(e,t){e.forEach((function(e){var n=b(e);t.set(n,e)}))}(m,x),v.current)return v.current=!1,c.createElement(c.Fragment,null,m.map((function(e){return c.createElement(l,{key:b(e),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:d},e)})));for(var y=Object(r.e)([],Object(r.c)(m)),E=h.current.map(b),w=m.map(b),k=E.length,P=0;P<k;P++){var L=E[P];-1===w.indexOf(L)?g.add(L):g.delete(L)}return u&&g.size&&(y=[]),g.forEach((function(e){if(-1===w.indexOf(e)){var t=x.get(e);if(t){var r=E.indexOf(e);y.splice(r,0,c.createElement(l,{key:b(t),isPresent:!1,onExitComplete:function(){x.delete(e),g.delete(e);var t=h.current.findIndex((function(t){return t.key===e}));h.current.splice(t,1),g.size||(h.current=m,j(),s&&s())},custom:n,presenceAffectsLayout:d},t))}}})),y=y.map((function(e){var t=e.key;return g.has(t)?e:c.createElement(l,{key:b(e),isPresent:!0,presenceAffectsLayout:d},e)})),h.current=y,c.createElement(c.Fragment,null,g.size?y:y.map((function(e){return Object(c.cloneElement)(e)})))}},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={initial:{opacity:0},final:{opacity:1,transition:{duration:1}},exit:{opacity:0,transition:{duration:.5}}}}}]);
//# sourceMappingURL=23.5b32065f.chunk.js.map