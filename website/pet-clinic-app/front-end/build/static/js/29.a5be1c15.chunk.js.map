{"version":3,"sources":["components/shared/hooks/perosnalinfo-hook.js","components/pages/profile/personalinfo/PersonalInfo.js","components/shared/hooks/fetch-hook.js","components/utils/modal/modalMotion.js","components/utils/modal/Modal.js","components/utils/formErrorMsg/InputError.js","../node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.js","../node_modules/framer-motion/dist/es/components/AnimatePresence/index.js","../node_modules/framer-motion/dist/es/utils/use-force-update.js"],"names":["personalInfoReducer","state","action","type","value","length","field","errorMsg","size","URL","photoChanged","createObjectURL","photo","isPhone","validator","isMobilePhone","phone_number","getMyDataResult","data","first_name","last_name","address","Blob","Uint8Array","isLoadingMyData","responseError","isUpdating","missingInput","formData","FormData","append","dataToUpdate","updateResult","error","usePersonalInfo","initialData","useReducer","PersonalInfo","useState","editButton","setEditButton","sendRequest","useFetch","auth","useContext","authContext","setPageIsLoading","pageLoadingContext","dispatch","useEffect","isMount","getMyData","a","process","token","myData","message","updateData","result","Modal","modalClass","header","body","refresh","className","InputError","class","style","left","top","margin","msg","src","alt","onClick","oldState","htmlFor","name","id","onChange","e","currentTarget","files","accept","onBlur","color","textAlign","width","useCallback","url","method","headers","fetch","response","json","parsedData","ok","Error","modalMotion","initial","y","final","exit","modalVariant","props","show","setShow","navigate","useNavigate","AnimatePresence","motion","div","variants","animate","setTimeout","window","location","reload","redirectTo","presenceId","getPresenceId","PresenceChild","_a","children","isPresent","onExitComplete","custom","presenceAffectsLayout","presenceChildren","useConstant","newChildrenMap","context","useMemo","childId","set","allComplete","forEach","isComplete","register","delete","undefined","_","key","React","PresenceContext","Provider","Map","getChildKey","child","_b","exitBeforeEnter","_c","forceRender","unloadingRef","useRef","__read","forcedRenderCount","setForcedRenderCount","useUnmountEffect","current","useForceUpdate","layoutContext","SharedLayoutContext","isSharedLayout","forceUpdate","isInitialRender","filteredChildren","filtered","Children","isValidElement","push","onlyElements","presentChildren","allChildren","exiting","Set","updateChildLookup","map","childrenToRender","__spreadArray","presentKeys","targetKeys","numPresent","i","indexOf","add","get","insertionIndex","splice","removeIndex","findIndex","presentChild","has","cloneElement"],"mappings":"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","file":"static/js/29.a5be1c15.chunk.js","sourcesContent":["import { useReducer } from 'react'\r\nimport validator from 'validator'\r\nconst personalInfoReducer = (state, action) => {\r\n  switch (action.type) {\r\n\r\n    case 'enterValue': {\r\n      if (action.value.length > 400)\r\n        return {\r\n          ...state,\r\n          [action.field]: {\r\n            ...state[action.field],\r\n            errorMsg: 'Max Characters length is 400 !!',\r\n          }\r\n        }\r\n      return {\r\n        ...state,\r\n        [action.field]: {\r\n          errorMsg: '',\r\n          value: action.value\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    case 'uploadPhoto': {\r\n      // if the image is greater than 10Mb\r\n      if (action.value.size > 10000000)\r\n        return {\r\n          ...state,\r\n          [action.field]: {\r\n            value: '',\r\n            URL: '',\r\n            errorMsg: 'Image size is greater than 10Mb!'\r\n          }\r\n        }\r\n      return {\r\n        ...state,\r\n        photoChanged: 'yes',\r\n        [action.field]: {\r\n          value: action.value,\r\n          URL: URL.createObjectURL(action.value),\r\n          errorMsg: ''\r\n        }\r\n      }\r\n    }\r\n    case 'removePhoto': {\r\n      return {\r\n        ...state,\r\n        photoChanged: 'yes',\r\n        photo: {\r\n          ...state.photo,\r\n          URL: '',\r\n          value: '',\r\n          errorMsg: ''\r\n\r\n        }\r\n      }\r\n    }\r\n    // when focus on phone input is out\r\n    case 'blurPhone': {\r\n      const isPhone = validator.isMobilePhone(state.phone_number.value)\r\n      if (!state.phone_number.value || isPhone) {\r\n        return {\r\n          ...state,\r\n          phone_number: {\r\n            ...state.phone_number,\r\n            errorMsg: ''\r\n          }\r\n        }\r\n      }\r\n      if (!isPhone) {\r\n        return {\r\n          ...state,\r\n          phone_number: {\r\n            ...state.phone_number,\r\n            errorMsg: 'Invalid Phone number'\r\n          }\r\n        }\r\n      }\r\n      break;\r\n\r\n\r\n    }\r\n    case 'successGetMyData': {\r\n      return {\r\n        ...state,\r\n        getMyDataResult: action.data,\r\n        first_name: {\r\n          ...state.first_name,\r\n          value: action.data.first_name,\r\n        },\r\n        last_name: {\r\n          ...state.last_name,\r\n          value: action.data.last_name,\r\n        },\r\n        phone_number: {\r\n          ...state.phone_number,\r\n          value: action.data.phone_number,\r\n        },\r\n        address: {\r\n          ...state.address,\r\n          value: action.data.address,\r\n        },\r\n        photo: action.data.photo ? {\r\n          ...state.photo,\r\n          URL: URL.createObjectURL(new Blob([new Uint8Array(action.data.photo.data)])),\r\n        } : state.photo,\r\n        isLoadingMyData: false,\r\n        responseError: ''\r\n      }\r\n    }\r\n\r\n\r\n    case 'validate': {\r\n\r\n      if (state.isUpdating)\r\n        return state\r\n\r\n      if (!state.first_name.value || !state.last_name.value || !state.address.value || !state.phone_number.value)\r\n        return {\r\n          ...state,\r\n          missingInput: true\r\n        }\r\n      // incase of errors in the form\r\n      if (state.photo.errorMsg || state.phone_number.errorMsg || state.address.errorMsg)\r\n        return {\r\n          ...state,\r\n          missingInput: false\r\n        }\r\n      // incase of successfull validation, here we create FormData() object because we are not sending json, we are sending multipart/form-data \r\n      var formData = new FormData()\r\n      formData.append('first_name', state.first_name.value)\r\n      formData.append('last_name', state.last_name.value)\r\n      formData.append('phone_number', state.phone_number.value)\r\n      formData.append('address', state.address.value)\r\n      formData.append('photoChanged', state.photoChanged)\r\n      if(state.photo.value)\r\n        formData.append('photo', state.photo.value)\r\n\r\n      \r\n      return {\r\n        ...state,\r\n        dataToUpdate: formData,\r\n        isUpdating: true,\r\n        missingInput: false,\r\n        responseError: ''\r\n      }\r\n    }\r\n    case 'successUpdate': {\r\n      return {\r\n        ...state,\r\n        isUpdating: false,\r\n        updateResult: action.data\r\n      }\r\n    }\r\n\r\n    case 'failure': {\r\n      return {\r\n        ...state,\r\n        isLoadingMyData: false,\r\n        isUpdating: false,\r\n        responseError: action.error\r\n      }\r\n    }\r\n    case 'errorModalExit': {\r\n      return {\r\n        ...state,\r\n        responseError: ''\r\n      }\r\n    }\r\n    default: break\r\n  }\r\n}\r\nconst usePersonalInfo = (initialData) => {\r\n  const [state, dispatch] = useReducer(personalInfoReducer, initialData)\r\n  return [state, dispatch]\r\n}\r\nexport default usePersonalInfo","import { useState, useContext, useEffect } from \"react\"\r\nimport { authContext } from \"../../../shared/context/auth-context\"\r\nimport { pageLoadingContext } from \"../../../shared/context/loading-context\"\r\nimport useFetch from \"../../../shared/hooks/fetch-hook\"\r\nimport usePersonalInfo from \"../../../shared/hooks/perosnalinfo-hook\"\r\nimport InputError from \"../../../utils/formErrorMsg/InputError\"\r\nimport Modal from \"../../../utils/modal/Modal\"\r\n\r\nconst initialData = {\r\n  isLoadingMyData: true,\r\n  getMyDataResult: null,\r\n  responseError: '',\r\n  first_name: {\r\n    value: '',\r\n    errorMsg: ''\r\n  },\r\n  last_name: {\r\n    value: '',\r\n    errorMsg: ''\r\n  },\r\n  address: {\r\n    value: '',\r\n    errorMsg: ''\r\n  },\r\n  phone_number: {\r\n    value: '',\r\n    errorMsg: ''\r\n  },\r\n  photo: {\r\n    URL: '',\r\n    value: '',\r\n    errorMsg: ''\r\n  },\r\n  missingInput: false,\r\n  isUpdating: false,\r\n  dataToUpdate: null,\r\n  updateResult: '',\r\n  photoChanged: 'no',\r\n}\r\nconst PersonalInfo = () => {\r\n  const [editButton, setEditButton] = useState(false)\r\n  const sendRequest = useFetch()\r\n  const auth = useContext(authContext)\r\n  const setPageIsLoading = useContext(pageLoadingContext).setPageIsLoading\r\n  const [state, dispatch] = usePersonalInfo(initialData)\r\n\r\n  useEffect(() => {\r\n    let isMount = true\r\n    const getMyData = async () => {\r\n      try {\r\n        const myData = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}users/me`, 'GET', null, {\r\n          'Authorization': `Bearer ${auth.token}`\r\n        })\r\n        if (isMount && myData)\r\n          dispatch({ type: 'successGetMyData', data: myData })\r\n      } catch (e) {\r\n        if (isMount)\r\n          dispatch({ type: 'failure', error: e.message })\r\n      }\r\n    }\r\n    getMyData()\r\n    return () => {\r\n      setPageIsLoading(false)\r\n      isMount = false\r\n    }\r\n  }, [auth.token, dispatch, sendRequest, setPageIsLoading])\r\n\r\n  useEffect(() => {\r\n    let isMount = true\r\n    const updateData = async () => {\r\n      try {\r\n        const updateResult = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}users/me`, 'PATCH', state.dataToUpdate, {\r\n          'Authorization': `Bearer ${auth.token}`\r\n        })\r\n        if (isMount && updateResult)\r\n          dispatch({ type: 'successUpdate', data: updateResult.result })\r\n      } catch (e) {\r\n        if(isMount)\r\n          dispatch({ type: 'failure', error: e.message })\r\n      }\r\n    }\r\n    if (state.isUpdating)\r\n      updateData()\r\n    return () => {\r\n      setPageIsLoading(false)\r\n      isMount = false\r\n    }\r\n  } ,[auth.token, dispatch, sendRequest, setPageIsLoading, state.dataToUpdate, state.isUpdating])\r\n\r\n  useEffect(() => {\r\n    setPageIsLoading(state.isLoadingMyData || state.isUpdating)\r\n  }, [state.isLoadingMyData, state.isUpdating, setPageIsLoading])\r\n\r\n  return (\r\n    <>\r\n    {state.responseError &&\r\n        <Modal\r\n          modalClass='error'\r\n          header='Oops!!'\r\n          body={state.responseError}\r\n          dispatch={dispatch}\r\n          refresh={true}\r\n        />}\r\n      {state.updateResult &&\r\n        <Modal\r\n          modalClass='success'\r\n          header='Success!!'\r\n          body={state.updateResult}\r\n          dispatch={dispatch}\r\n          refresh={true}\r\n        />}\r\n      <h4>Public Profile</h4>\r\n      <form className=\"profile-data flex-col gap-24p\">\r\n        <div className=\"change-pic flex-col gap-8p\">\r\n          {\r\n            state.photo.errorMsg &&\r\n\r\n            <InputError class='error-msg' style={{ left: 0, top: 0, margin:0 }} msg={state.photo.errorMsg} />\r\n\r\n          }\r\n          <img\r\n\r\n            src={state.photo.URL ? state.photo.URL : \"/media/imgs/avatar.jpg\"}\r\n            alt=\"avatar\" />\r\n          <div className=\"change-pic-wrapper\">\r\n            <button\r\n              onClick={() => setEditButton((oldState) => !oldState)}\r\n              type=\"button\" className=\"btn-rec\"><i className=\"fas fa-pencil-alt\"></i> Edit</button>\r\n\r\n            {editButton &&\r\n              <div className=\"change-pic-list flex-col gap-12p\">\r\n\r\n                <label htmlFor=\"profile_photo\">\r\n                  Press to upload\r\n                  <i className=\"fas fa-upload\"></i>\r\n                </label>\r\n\r\n                <input type=\"file\" name=\"photo\" id=\"profile_photo\" onChange={(e) => {\r\n                  setEditButton(false)\r\n                  if (e.currentTarget.files.length !== 0)\r\n                    return dispatch({ type: 'uploadPhoto', field: 'photo', value: e.currentTarget.files[0] })\r\n                  return\r\n                }}\r\n                  accept=\".png, .jpg, .jpeg\" />\r\n                <p \r\n                onClick={() => {\r\n                  setEditButton(false)\r\n                  dispatch({ type: 'removePhoto' })\r\n                }}>Remove Photo</p>\r\n\r\n              </div>\r\n            }\r\n          </div>\r\n        </div>\r\n        <div className=\"inputs-wrapper flex-col gap-16p\">\r\n          <div className=\"input-wrapper\">\r\n            <label htmlFor=\"first_name\">First Name:* </label>\r\n            <input type=\"text\" name=\"firstName\"\r\n              id=\"first_name\"\r\n              value={state.first_name.value}\r\n              onChange={(e) => {\r\n                dispatch({ type: 'enterValue', field: 'first_name', value: e.currentTarget.value })\r\n              }}\r\n               />\r\n          </div>\r\n          <div className=\"input-wrapper\">\r\n            <label htmlFor=\"last_name\">Last Name:* </label>\r\n            <input type=\"text\" name=\"lastName\" id=\"last_name\"\r\n              value={state.last_name.value}\r\n              onChange={(e) => {\r\n                dispatch({ type: 'enterValue', field: 'last_name', value: e.currentTarget.value })\r\n              }}\r\n               />\r\n          </div>\r\n          <div className=\"input-wrapper\">\r\n            <label htmlFor=\"address\">Address:* </label>\r\n            <textarea name=\"address\" id=\"address\"\r\n              onChange={(e) => {\r\n                dispatch({ type: 'enterValue', field: 'address', value: e.currentTarget.value })\r\n              }}\r\n              value={state.address.value} />\r\n            {state.address.errorMsg && <InputError style={{ left: '90%' }} class='error-msg' msg={state.address.errorMsg} />}\r\n          </div>\r\n          <div className=\"input-wrapper\">\r\n            <label htmlFor=\"phone_number\">Phone Number:* </label>\r\n            <input type=\"text\" name=\"phoneNumber\" id=\"phone_number\"\r\n              onChange={(e) => {\r\n                dispatch({ type: 'enterValue', field: 'phone_number', value: e.currentTarget.value })\r\n\r\n              }}\r\n              onBlur={() => { dispatch({ type: 'blurPhone' }) }}\r\n              value={state.phone_number.value} />\r\n            {state.phone_number.errorMsg && <InputError style={{ left: '80%' }} class='error-msg' msg={state.phone_number.errorMsg} />}\r\n          </div>\r\n          {state.missingInput && <p style={{ color: 'red', textAlign: 'center', width: '70%', margin: 'auto' }}>Please Fill mandatory fields *</p>}\r\n          {state.responseError && <p style={{ color: 'red', textAlign: 'center', width: '70%', margin: 'auto' }}>{state.responseError}</p>}\r\n          <button \r\n          type=\"button\" \r\n          className=\"btn-r btn-r-blue\"\r\n          onClick={() => {\r\n            dispatch({ type: 'validate' })\r\n          }}\r\n          >Update Profile</button>\r\n        </div>\r\n\r\n      </form>\r\n    </>\r\n\r\n  )\r\n}\r\nexport default PersonalInfo","\r\n\r\n// this custom hook contains the logic of sending a request to the server and getting databack, we wrap it with a useCallback so that it won't create the function every time the component using the hooks rerenders\r\n\r\nimport { useCallback } from \"react\"\r\n\r\nconst useFetch = () => {\r\n\r\n\r\n  const sendRequest = useCallback(async (\r\n    url,\r\n    method = 'GET',\r\n    body = null,\r\n    headers = {},\r\n\r\n\r\n  ) => {\r\n    try {\r\n      // 'Content-Type': 'application/json'\r\n      const response = await fetch(url, {\r\n      method,\r\n      headers,\r\n      body,\r\n    })\r\n      const parsedData = await response.json()\r\n  \r\n      if (!response.ok) {\r\n        throw new Error(parsedData.error)\r\n      }\r\n      return parsedData\r\n      \r\n    } catch (e) {\r\n      throw e\r\n    }\r\n    \r\n    \r\n  \r\n  \r\n  }, []) \r\n  return sendRequest\r\n}\r\nexport default useFetch","const modalMotion = {\r\n  initial: {\r\n    y: '-100vh',\r\n  },\r\n  final: {\r\n    y: 0,\r\n  },\r\n  exit: {\r\n    y: '-100vh'\r\n  }\r\n}\r\nexport default modalMotion","import { AnimatePresence, motion } from \"framer-motion\"\r\nimport { useState } from \"react\"\r\nimport modalMotion from \"./modalMotion\"\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst modalVariant = modalMotion\r\n\r\nconst Modal = (props) => {\r\n\r\n  const [show, setShow] = useState(true)\r\n  const navigate = useNavigate()\r\n  return (\r\n    <>\r\n      <div className={`modal modal_${props.modalClass}`}>\r\n        <AnimatePresence>\r\n          {show && <motion.div \r\n          variants={modalVariant}\r\n          initial='initial'\r\n          animate='final'\r\n          exit='exit'\r\n\r\n          className={`modal-container modal-container__${props.modalClass} flex-col gap-16p falign-center`}>\r\n\r\n            <header className={`modal-header modal-header__${props.modalClass}`}>\r\n              {props.header}\r\n            </header>\r\n            <div className={`flex-col gap-8p modal-body modal-body__${props.modalClass}`}>\r\n              {props.body}\r\n            </div>\r\n            <footer className={`modal-footer modal-footer__${props.modalClass}`}>\r\n            {(props.modalClass === 'check' || props.modalClass === 'edit') && \r\n                <button\r\n                onClick={() => {\r\n                  setShow(false)\r\n                  setTimeout(() => {props.dispatch({ type: 'finalConfirm' })}, 300)\r\n                  \r\n                }}\r\n                className='btn-rec modal-button modal-button__confirm'>Confirm </button>\r\n              }\r\n              <button\r\n                onClick={() => {\r\n                  setShow(false)\r\n                  if (props.refresh)\r\n                    return  setTimeout(() => {window.location.reload()}, 300)\r\n                  if (props.redirectTo)\r\n                    return setTimeout(() => {navigate(props.redirectTo)}, 300)\r\n                    \r\n                  setTimeout(() => {props.dispatch({ type: `${props.modalClass}ModalExit` })}, 300)\r\n                  \r\n                }}\r\n                className={`btn-rec modal-button modal-button__${props.modalClass}`}>{props.modalClass === 'success' ? 'OK' : props.modalClass === 'check' ? 'Cancel' :props.modalClass === 'edit' ? 'Cancel' : 'Exit'}</button>\r\n\r\n              \r\n              \r\n            </footer>\r\n\r\n          </motion.div>}\r\n        </AnimatePresence>\r\n\r\n\r\n      </div>\r\n    </>\r\n\r\n  )\r\n  // modalClass, header, body, modalButtonClass, modalType\r\n}\r\n\r\nexport default Modal","const InputError = (props) => {\r\n  return (\r\n    <span style={props.style} className={props.class}>{props.msg}</span>\r\n  )\r\n}\r\n\r\nexport default InputError","import * as React from 'react';\nimport { useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { useConstant } from '../../utils/use-constant.js';\n\nvar presenceId = 0;\nfunction getPresenceId() {\n    var id = presenceId;\n    presenceId++;\n    return id;\n}\nvar PresenceChild = function (_a) {\n    var children = _a.children, initial = _a.initial, isPresent = _a.isPresent, onExitComplete = _a.onExitComplete, custom = _a.custom, presenceAffectsLayout = _a.presenceAffectsLayout;\n    var presenceChildren = useConstant(newChildrenMap);\n    var id = useConstant(getPresenceId);\n    var context = useMemo(function () { return ({\n        id: id,\n        initial: initial,\n        isPresent: isPresent,\n        custom: custom,\n        onExitComplete: function (childId) {\n            presenceChildren.set(childId, true);\n            var allComplete = true;\n            presenceChildren.forEach(function (isComplete) {\n                if (!isComplete)\n                    allComplete = false;\n            });\n            allComplete && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n        },\n        register: function (childId) {\n            presenceChildren.set(childId, false);\n            return function () { return presenceChildren.delete(childId); };\n        },\n    }); }, \n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    presenceAffectsLayout ? undefined : [isPresent]);\n    useMemo(function () {\n        presenceChildren.forEach(function (_, key) { return presenceChildren.set(key, false); });\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(function () {\n        !isPresent && !presenceChildren.size && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n    }, [isPresent]);\n    return (React.createElement(PresenceContext.Provider, { value: context }, children));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n","import { __spreadArray, __read } from 'tslib';\nimport * as React from 'react';\nimport { useContext, useRef, cloneElement, Children, isValidElement } from 'react';\nimport { useForceUpdate } from '../../utils/use-force-update.js';\nimport { PresenceChild } from './PresenceChild.js';\nimport { SharedLayoutContext, isSharedLayout } from '../../context/SharedLayoutContext.js';\n\nfunction getChildKey(child) {\n    return child.key || \"\";\n}\nfunction updateChildLookup(children, allChildren) {\n    var seenChildren = process.env.NODE_ENV !== \"production\" ? new Set() : null;\n    children.forEach(function (child) {\n        var key = getChildKey(child);\n        if (process.env.NODE_ENV !== \"production\" && seenChildren) {\n            if (seenChildren.has(key)) {\n                console.warn(\"Children of AnimatePresence require unique keys. \\\"\" + key + \"\\\" is a duplicate.\");\n            }\n            seenChildren.add(key);\n        }\n        allChildren.set(key, child);\n    });\n}\nfunction onlyElements(children) {\n    var filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    Children.forEach(children, function (child) {\n        if (isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * @library\n *\n * Any `Frame` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { Frame, AnimatePresence } from 'framer'\n *\n * // As items are added and removed from `items`\n * export function Items({ items }) {\n *   return (\n *     <AnimatePresence>\n *       {items.map(item => (\n *         <Frame\n *           key={item.id}\n *           initial={{ opacity: 0 }}\n *           animate={{ opacity: 1 }}\n *           exit={{ opacity: 0 }}\n *         />\n *       ))}\n *     </AnimatePresence>\n *   )\n * }\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * @motion\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nvar AnimatePresence = function (_a) {\n    var children = _a.children, custom = _a.custom, _b = _a.initial, initial = _b === void 0 ? true : _b, onExitComplete = _a.onExitComplete, exitBeforeEnter = _a.exitBeforeEnter, _c = _a.presenceAffectsLayout, presenceAffectsLayout = _c === void 0 ? true : _c;\n    // We want to force a re-render once all exiting animations have finished. We\n    // either use a local forceRender function, or one from a parent context if it exists.\n    var forceRender = useForceUpdate();\n    var layoutContext = useContext(SharedLayoutContext);\n    if (isSharedLayout(layoutContext)) {\n        forceRender = layoutContext.forceUpdate;\n    }\n    var isInitialRender = useRef(true);\n    // Filter out any children that aren't ReactElements. We can only track ReactElements with a props.key\n    var filteredChildren = onlyElements(children);\n    // Keep a living record of the children we're actually rendering so we\n    // can diff to figure out which are entering and exiting\n    var presentChildren = useRef(filteredChildren);\n    // A lookup table to quickly reference components by key\n    var allChildren = useRef(new Map())\n        .current;\n    // A living record of all currently exiting components.\n    var exiting = useRef(new Set()).current;\n    updateChildLookup(filteredChildren, allChildren);\n    // If this is the initial component render, just deal with logic surrounding whether\n    // we play onMount animations or not.\n    if (isInitialRender.current) {\n        isInitialRender.current = false;\n        return (React.createElement(React.Fragment, null, filteredChildren.map(function (child) { return (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, initial: initial ? undefined : false, presenceAffectsLayout: presenceAffectsLayout }, child)); })));\n    }\n    // If this is a subsequent render, deal with entering and exiting children\n    var childrenToRender = __spreadArray([], __read(filteredChildren));\n    // Diff the keys of the currently-present and target children to update our\n    // exiting list.\n    var presentKeys = presentChildren.current.map(getChildKey);\n    var targetKeys = filteredChildren.map(getChildKey);\n    // Diff the present children with our target children and mark those that are exiting\n    var numPresent = presentKeys.length;\n    for (var i = 0; i < numPresent; i++) {\n        var key = presentKeys[i];\n        if (targetKeys.indexOf(key) === -1) {\n            exiting.add(key);\n        }\n        else {\n            // In case this key has re-entered, remove from the exiting list\n            exiting.delete(key);\n        }\n    }\n    // If we currently have exiting children, and we're deferring rendering incoming children\n    // until after all current children have exiting, empty the childrenToRender array\n    if (exitBeforeEnter && exiting.size) {\n        childrenToRender = [];\n    }\n    // Loop through all currently exiting components and clone them to overwrite `animate`\n    // with any `exit` prop they might have defined.\n    exiting.forEach(function (key) {\n        // If this component is actually entering again, early return\n        if (targetKeys.indexOf(key) !== -1)\n            return;\n        var child = allChildren.get(key);\n        if (!child)\n            return;\n        var insertionIndex = presentKeys.indexOf(key);\n        var onExit = function () {\n            allChildren.delete(key);\n            exiting.delete(key);\n            // Remove this child from the present children\n            var removeIndex = presentChildren.current.findIndex(function (presentChild) { return presentChild.key === key; });\n            presentChildren.current.splice(removeIndex, 1);\n            // Defer re-rendering until all exiting children have indeed left\n            if (!exiting.size) {\n                presentChildren.current = filteredChildren;\n                forceRender();\n                onExitComplete && onExitComplete();\n            }\n        };\n        childrenToRender.splice(insertionIndex, 0, React.createElement(PresenceChild, { key: getChildKey(child), isPresent: false, onExitComplete: onExit, custom: custom, presenceAffectsLayout: presenceAffectsLayout }, child));\n    });\n    // Add `MotionContext` even to children that don't need it to ensure we're rendering\n    // the same tree between renders\n    childrenToRender = childrenToRender.map(function (child) {\n        var key = child.key;\n        return exiting.has(key) ? (child) : (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, presenceAffectsLayout: presenceAffectsLayout }, child));\n    });\n    presentChildren.current = childrenToRender;\n    if (process.env.NODE_ENV !== \"production\" &&\n        exitBeforeEnter &&\n        childrenToRender.length > 1) {\n        console.warn(\"You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour.\");\n    }\n    return (React.createElement(React.Fragment, null, exiting.size\n        ? childrenToRender\n        : childrenToRender.map(function (child) { return cloneElement(child); })));\n};\n\nexport { AnimatePresence };\n","import { __read } from 'tslib';\nimport { useCallback, useRef, useState } from 'react';\nimport { useUnmountEffect } from './use-unmount-effect.js';\n\nfunction useForceUpdate() {\n    var unloadingRef = useRef(false);\n    var _a = __read(useState(0), 2), forcedRenderCount = _a[0], setForcedRenderCount = _a[1];\n    useUnmountEffect(function () { return (unloadingRef.current = true); });\n    return useCallback(function () {\n        !unloadingRef.current && setForcedRenderCount(forcedRenderCount + 1);\n    }, [forcedRenderCount]);\n}\n\nexport { useForceUpdate };\n"],"sourceRoot":""}