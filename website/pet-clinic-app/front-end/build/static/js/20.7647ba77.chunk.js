(this["webpackJsonppet-clinic-app"]=this["webpackJsonppet-clinic-app"]||[]).push([[20],{27:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},278:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n.n(r),c=n(11),s=n(4),o=n(27),i=n(31),u=n(1),l=n.n(u),d=function(e,t){switch(t.type){case"enterValue":return t.value.length>400?Object(i.a)(Object(i.a)({},e),{},Object(o.a)({},t.field,Object(i.a)(Object(i.a)({},e[t.field]),{},{errorMsg:"Max Characters length is 400 !!"}))):Object(i.a)(Object(i.a)({},e),{},Object(o.a)({},t.field,{errorMsg:"",value:t.value}));case"start":return Object(i.a)(Object(i.a)({},e),{},{responseError:"",isLoading:!0});case"success":return Object(i.a)(Object(i.a)({},e),{},{responseError:"",isLoading:!1,responseData:t.data});case"successComment":return Object(i.a)(Object(i.a)({},e),{},{responseError:"",isCommenting:!1});case"successAdopting":return Object(i.a)(Object(i.a)({},e),{},{responseError:"",isAdopting:!1,adoptResponse:t.data});case"failure":return Object(i.a)(Object(i.a)({},e),{},{responseError:t.error,isLoading:!1,isCommenting:!1,isAdopting:!1});case"validate":return e.comment.value?Object(i.a)(Object(i.a)({},e),{},{isCommenting:!0,missingStory:"",responseError:""}):Object(i.a)(Object(i.a)({},e),{},{missingComment:"Please fill a story about your pet"});case"errorModalExit":return Object(i.a)(Object(i.a)({},e),{},{responseError:""});case"checkModalExit":return Object(i.a)(Object(i.a)({},e),{},{checkModal:!1});case"checkModalEnter":return Object(i.a)(Object(i.a)({},e),{},{checkModal:!0});case"finalConfirm":return Object(i.a)(Object(i.a)({},e),{},{isAdopting:!0,checkModal:!1})}},p=function(e){var t=Object(u.useReducer)(d,e),n=Object(s.a)(t,2);return[n[0],n[1]]},m=n(30),f=n(12),j=n(2),b=n(6),h=n(33),O=n(34),y=n(38),g=n(0),x={comment:{value:"",errorMsg:""},isLoading:!1,isCommenting:!1,responseData:null,responseError:"",missingComment:"",checkModal:!1,finalConfirm:!1,isAdopting:!1,adoptResponse:""};t.default=function(){var e=p(x),t=Object(s.a)(e,2),n=t[0],r=t[1],o=Object(m.a)(),i=Object(u.useContext)(f.a),d=Object(j.i)().id,v=Object(u.useContext)(b.a).setPageIsLoading,D=Object(j.h)();Object(u.useEffect)((function(){var e=!0,t=function(){var t=Object(c.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"start"}),t.prev=1,t.next=4,o("".concat("https://pet-verse-app.herokuapp.com/","adoptionads/").concat(d),"GET",null,{Authorization:"Bearer ".concat(i.token)});case 4:(n=t.sent)&&e&&r({type:"success",data:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e&&r({type:"failure",error:t.t0.message});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){v(!1),e=!1}}),[i.token,r,d,o,v]),Object(u.useEffect)((function(){v(n.isLoading)}),[n.isLoading,v]);return Object(u.useEffect)((function(){var e=!0;if(v(n.isCommenting),n.isCommenting){var t=function(){var t=Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o("".concat("https://pet-verse-app.herokuapp.com/","users/me/comments/"),"POST",JSON.stringify({ad_id:d,comment:n.comment.value}),{"Content-Type":"application/json",Authorization:"Bearer ".concat(i.token)});case 3:t.sent&&e&&(r({type:"successComment"}),window.location.reload()),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e&&r({type:"failure",error:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}return function(){v(!1),e=!1}}),[i.token,r,d,o,v,n.comment.value,n.isCommenting,D]),Object(u.useEffect)((function(){var e=!0,t=function(){var t=Object(c.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o("".concat("https://pet-verse-app.herokuapp.com/","users/me/requests/").concat(d),"POST",null,{Authorization:"Bearer ".concat(i.token)});case 3:(n=t.sent)&&e&&r({type:"successAdopting",data:n.result}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e&&r({type:"failure",error:t.t0.message});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return n.isAdopting&&t(),function(){v(!1),e=!1}}),[i.token,r,d,o,v,n.isAdopting]),Object(u.useEffect)((function(){v(n.isAdopting)}),[n.isAdopting,v]),Object(g.jsxs)(g.Fragment,{children:[n.responseError&&Object(g.jsx)(h.a,{modalClass:"error",header:"Oops!!",body:n.responseError,dispatch:r,redirectTo:"/"}),n.checkModal&&Object(g.jsx)(h.a,{modalClass:"check",header:"",body:Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("p",{style:{maxHeight:"none"},children:"You are about to send an adoption request to the pet owner. Your first name, last name and your phone number will be sent to the pet owner as well so that he can contact you as soon as possible are you sure you want to proceed ?"})}),dispatch:r}),n.adoptResponse&&Object(g.jsx)(h.a,{modalClass:"success",header:"Success!!",body:n.adoptResponse,dispatch:r,redirectTo:"/myprofile/myadoptionrequests"}),Object(g.jsxs)("div",{className:" adoption-ad-wrapper home-container flex-col falign-center gap-24p ",children:[Object(g.jsxs)("div",{className:"pet-basic-info-wrapper flex-col falign-center fjust-center gap-24p",children:[Object(g.jsxs)("div",{className:" wrapper flex-col falign-center fjust-center gap-16p",children:[Object(g.jsxs)("div",{className:"intro flex-col falign-center fjust-center gap-16p",children:[Object(g.jsx)("p",{className:"intro-hi",children:"hi i'm"}),Object(g.jsx)("p",{className:"pet-name",children:n.responseData&&n.responseData.adoptionAd.pet_name}),Object(g.jsxs)("p",{className:"pet-breed",children:["Breed: ",n.responseData&&n.responseData.adoptionAd.breed_name]})]}),Object(g.jsxs)("div",{className:"pet-info flex-col gap-16p",children:[Object(g.jsxs)("div",{className:"flex-row gap-8p",children:[Object(g.jsx)("label",{children:"Age: "}),Object(g.jsx)("p",{children:n.responseData&&n.responseData.adoptionAd.birth_date})]}),Object(g.jsxs)("div",{className:"flex-row gap-8p",children:[Object(g.jsx)("label",{children:"Gender: "}),Object(g.jsx)("p",{children:n.responseData&&n.responseData.adoptionAd.gender})]}),Object(g.jsxs)("div",{className:"flex-row gap-8p",children:[Object(g.jsx)("label",{children:"Color: "}),Object(g.jsx)("p",{children:n.responseData&&n.responseData.adoptionAd.colors})]}),Object(g.jsxs)("div",{className:"flex-row gap-8p",children:[Object(g.jsx)("label",{children:"Located At: "}),Object(g.jsx)("p",{children:n.responseData&&n.responseData.adoptionAd.username?"Owner house":"Shelter"})]})]})]}),Object(g.jsxs)("div",{className:"flex-col gap-16p fjust-center falign-center pet-image-container",children:[Object(g.jsxs)("p",{children:["Posted By: ",Object(g.jsx)("b",{children:n.responseData&&n.responseData.adoptionAd.username?n.responseData.adoptionAd.username:"Shelter"})]}),Object(g.jsxs)("p",{children:["On: ",Object(g.jsx)("b",{children:n.responseData&&Object(O.a)(n.responseData.adoptionAd.date,"default")})]}),n.responseData&&n.responseData.adoptionAd.photo?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("img",{src:URL.createObjectURL(new Blob([new Uint8Array(n.responseData.adoptionAd.photo.data)])),alt:"pet"}),n.responseData.adoptionAd.owner_id!==i.userId&&!n.responseData.adoptionAd.requested&&null===i.userRole&&Object(g.jsx)("button",{onClick:function(){return r({type:"checkModalEnter"})},className:"btn-rec adopt-btn",children:"Adopt me!"})]}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("img",{src:"/media/imgs/nophotopet.jpg",alt:"pet"})})]})]}),Object(g.jsxs)("div",{className:"pet-story flex-col gap-16p",children:[Object(g.jsxs)("div",{className:"adopt-story flex-col",children:[Object(g.jsx)("h2",{children:"My story"}),Object(g.jsx)("p",{children:n.responseData&&n.responseData.adoptionAd.story})]}),Object(g.jsx)("div",{className:"training-story flex-col gap-8p",children:n.responseData&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h2",{children:["My trainings ",Object(g.jsx)("i",{className:"fas fa-medal"})]}),n.responseData.adoptionAd.trainings.length?n.responseData.adoptionAd.trainings.map((function(e,t){return Object(g.jsxs)(l.a.Fragment,{children:[Object(g.jsxs)("div",{className:"flex-row gap-8p training-wrapper",children:[Object(g.jsx)("label",{children:"Training: "}),Object(g.jsx)("p",{children:e.training})]}),Object(g.jsxs)("div",{className:"flex-row gap-8p training-wrapper",children:[Object(g.jsx)("label",{children:"Trained by: "}),Object(g.jsx)("p",{children:e.trainer_first_name+" "+e.trainer_last_name})]})]},t)})):Object(g.jsx)("p",{children:"No Previous trainings for this pet "})]})})]}),Object(g.jsxs)("div",{className:"comments-area-wrapper flex-col falign-center gap-8p",children:[Object(g.jsxs)("div",{className:"leave-comment-wrapper flex-col falign-center gap-16p",children:[n.comment.errorMsg&&Object(g.jsx)(y.a,{direction:"bottom",style:{top:"2%",margin:".5rem"},class:"error-msg",msg:n.comment.errorMsg}),Object(g.jsx)("textarea",{name:"comment",id:"comment",cols:"35",rows:"5",placeholder:"feel free to share a comment!",value:n.comment.value,onChange:function(e){return r({type:"enterValue",field:"comment",value:e.currentTarget.value})}}),n.missingComment&&Object(g.jsx)("p",{style:{color:"red",textAlign:"center",width:"70%",margin:"auto",padding:"0.5rem"},children:n.missingComment}),Object(g.jsx)("input",{onClick:function(){n.isLoading||r({type:"validate"})},className:"btn-rec-purple",type:"submit"})]}),Object(g.jsx)("div",{className:"all-comments-wrapper flex-col falign-center gap-8p",children:n.responseData&&Object(g.jsx)(g.Fragment,{children:n.responseData.comments.length?n.responseData.comments.map((function(e,t){return Object(g.jsxs)("div",{className:"single-comment-wrapper flex-col gap-8p",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("i",{className:"fas fa-user"}),n.responseData.adoptionAd.owner_id===e.user_id?"Owner":"client"!==e.user_type?"Shelter":e.username]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("i",{className:"fas fa-clock"}),Object(O.a)(e.date,"default")]}),Object(g.jsx)("p",{children:e.text})]},t)})):Object(g.jsx)("div",{className:"single-comment-wrapper flex-col gap-8p",children:Object(g.jsx)("p",{children:"No comments yet on this post "})})})})]})]})]})}},30:function(e,t,n){"use strict";var r=n(8),a=n.n(r),c=n(11),s=n(1);t.a=function(){var e=Object(s.useCallback)(function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,c,s,o,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"GET",r=i.length>2&&void 0!==i[2]?i[2]:null,c=i.length>3&&void 0!==i[3]?i[3]:{},e.prev=3,e.next=6,fetch(t,{method:n,headers:c,body:r});case 6:return s=e.sent,e.next=9,s.json();case 9:if(o=e.sent,s.ok){e.next=12;break}throw new Error(o.error);case 12:return e.abrupt("return",o);case 15:throw e.prev=15,e.t0=e.catch(3),e.t0;case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),[]);return e}},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(27);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},33:function(e,t,n){"use strict";var r=n(4),a=n(55),c=n(267),s=n(1),o={initial:{y:"-100vh"},final:{y:0},exit:{y:"-100vh"}},i=n(2),u=n(0),l=o;t.a=function(e){var t=Object(s.useState)(!0),n=Object(r.a)(t,2),o=n[0],d=n[1],p=Object(i.h)();return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"modal modal_".concat(e.modalClass),children:Object(u.jsx)(a.a,{children:o&&Object(u.jsxs)(c.a.div,{variants:l,initial:"initial",animate:"final",exit:"exit",className:"modal-container modal-container__".concat(e.modalClass," flex-col gap-16p falign-center"),children:[Object(u.jsx)("header",{className:"modal-header modal-header__".concat(e.modalClass),children:e.header}),Object(u.jsx)("div",{className:"flex-col gap-8p modal-body modal-body__".concat(e.modalClass),children:e.body}),Object(u.jsxs)("footer",{className:"modal-footer modal-footer__".concat(e.modalClass),children:[("check"===e.modalClass||"edit"===e.modalClass)&&Object(u.jsx)("button",{onClick:function(){d(!1),setTimeout((function(){e.dispatch({type:"finalConfirm"})}),300)},className:"btn-rec modal-button modal-button__confirm",children:"Confirm "}),Object(u.jsx)("button",{onClick:function(){return d(!1),e.refresh?setTimeout((function(){window.location.reload()}),300):e.redirectTo?setTimeout((function(){p(e.redirectTo)}),300):void setTimeout((function(){e.dispatch({type:"".concat(e.modalClass,"ModalExit")})}),300)},className:"btn-rec modal-button modal-button__".concat(e.modalClass),children:"success"===e.modalClass?"OK":"check"===e.modalClass||"edit"===e.modalClass?"Cancel":"Exit"})]})]})})})})}},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,a=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,c=/[^-+\dA-Z]/g;function s(e,t,n,a){if(1!==arguments.length||"string"!==typeof e||/\d/.test(e)||(t=e,e=void 0),(e=e||0===e?e:new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var c=(t=String(o[t]||t||o.default)).slice(0,4);"UTC:"!==c&&"GMT:"!==c||(t=t.slice(4),n=!0,"GMT:"===c&&(a=!0));var s=function(){return n?"getUTC":"get"},f=function(){return e[s()+"Date"]()},j=function(){return e[s()+"Day"]()},b=function(){return e[s()+"Month"]()},h=function(){return e[s()+"FullYear"]()},O=function(){return e[s()+"Hours"]()},y=function(){return e[s()+"Minutes"]()},g=function(){return e[s()+"Seconds"]()},x=function(){return e[s()+"Milliseconds"]()},v=function(){return n?0:e.getTimezoneOffset()},D=function(){return d(e)},M=function(){return p(e)},w={d:function(){return f()},dd:function(){return u(f())},ddd:function(){return i.dayNames[j()]},DDD:function(){return l({y:h(),m:b(),d:f(),_:s(),dayName:i.dayNames[j()],short:!0})},dddd:function(){return i.dayNames[j()+7]},DDDD:function(){return l({y:h(),m:b(),d:f(),_:s(),dayName:i.dayNames[j()+7]})},m:function(){return b()+1},mm:function(){return u(b()+1)},mmm:function(){return i.monthNames[b()]},mmmm:function(){return i.monthNames[b()+12]},yy:function(){return String(h()).slice(2)},yyyy:function(){return u(h(),4)},h:function(){return O()%12||12},hh:function(){return u(O()%12||12)},H:function(){return O()},HH:function(){return u(O())},M:function(){return y()},MM:function(){return u(y())},s:function(){return g()},ss:function(){return u(g())},l:function(){return u(x(),3)},L:function(){return u(Math.floor(x()/10))},t:function(){return O()<12?i.timeNames[0]:i.timeNames[1]},tt:function(){return O()<12?i.timeNames[2]:i.timeNames[3]},T:function(){return O()<12?i.timeNames[4]:i.timeNames[5]},TT:function(){return O()<12?i.timeNames[6]:i.timeNames[7]},Z:function(){return a?"GMT":n?"UTC":m(e)},o:function(){return(v()>0?"-":"+")+u(100*Math.floor(Math.abs(v())/60)+Math.abs(v())%60,4)},p:function(){return(v()>0?"-":"+")+u(Math.floor(Math.abs(v())/60),2)+":"+u(Math.floor(Math.abs(v())%60),2)},S:function(){return["th","st","nd","rd"][f()%10>3?0:(f()%100-f()%10!=10)*f()%10]},W:function(){return D()},WW:function(){return u(D())},N:function(){return M()}};return t.replace(r,(function(e){return e in w?w[e]():e.slice(1,e.length-1)}))}var o={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},i={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(e).padStart(t,"0")},l=function(e){var t=e.y,n=e.m,r=e.d,a=e._,c=e.dayName,s=e.short,o=void 0!==s&&s,i=new Date,u=new Date;u.setDate(u[a+"Date"]()-1);var l=new Date;l.setDate(l[a+"Date"]()+1);return i[a+"FullYear"]()===t&&i[a+"Month"]()===n&&i[a+"Date"]()===r?o?"Tdy":"Today":u[a+"FullYear"]()===t&&u[a+"Month"]()===n&&u[a+"Date"]()===r?o?"Ysd":"Yesterday":l[a+"FullYear"]()===t&&l[a+"Month"]()===n&&l[a+"Date"]()===r?o?"Tmw":"Tomorrow":c},d=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var a=(t-n)/6048e5;return 1+Math.floor(a)},p=function(e){var t=e.getDay();return 0===t&&(t=7),t},m=function(e){return(String(e).match(a)||[""]).pop().replace(c,"").replace(/GMT\+0000/g,"UTC")}},38:function(e,t,n){"use strict";var r=n(0);t.a=function(e){return Object(r.jsx)("span",{style:e.style,className:e.class,children:e.msg})}},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(24),a=n(1),c=n(40);var s=n(37),o=n(39),i=0;function u(){var e=i;return i++,e}var l=function(e){var t=e.children,n=e.initial,r=e.isPresent,c=e.onExitComplete,i=e.custom,l=e.presenceAffectsLayout,p=Object(o.a)(d),m=Object(o.a)(u),f=Object(a.useMemo)((function(){return{id:m,initial:n,isPresent:r,custom:i,onExitComplete:function(e){p.set(e,!0);var t=!0;p.forEach((function(e){e||(t=!1)})),t&&(null===c||void 0===c||c())},register:function(e){return p.set(e,!1),function(){return p.delete(e)}}}}),l?void 0:[r]);return Object(a.useMemo)((function(){p.forEach((function(e,t){return p.set(t,!1)}))}),[r]),a.useEffect((function(){!r&&!p.size&&(null===c||void 0===c||c())}),[r]),a.createElement(s.a.Provider,{value:f},t)};function d(){return new Map}var p=n(45);function m(e){return e.key||""}var f=function(e){var t=e.children,n=e.custom,s=e.initial,o=void 0===s||s,i=e.onExitComplete,u=e.exitBeforeEnter,d=e.presenceAffectsLayout,f=void 0===d||d,j=function(){var e=Object(a.useRef)(!1),t=Object(r.c)(Object(a.useState)(0),2),n=t[0],s=t[1];return Object(c.a)((function(){return e.current=!0})),Object(a.useCallback)((function(){!e.current&&s(n+1)}),[n])}(),b=Object(a.useContext)(p.b);Object(p.c)(b)&&(j=b.forceUpdate);var h=Object(a.useRef)(!0),O=function(e){var t=[];return a.Children.forEach(e,(function(e){Object(a.isValidElement)(e)&&t.push(e)})),t}(t),y=Object(a.useRef)(O),g=Object(a.useRef)(new Map).current,x=Object(a.useRef)(new Set).current;if(function(e,t){e.forEach((function(e){var n=m(e);t.set(n,e)}))}(O,g),h.current)return h.current=!1,a.createElement(a.Fragment,null,O.map((function(e){return a.createElement(l,{key:m(e),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:f},e)})));for(var v=Object(r.e)([],Object(r.c)(O)),D=y.current.map(m),M=O.map(m),w=D.length,N=0;N<w;N++){var C=D[N];-1===M.indexOf(C)?x.add(C):x.delete(C)}return u&&x.size&&(v=[]),x.forEach((function(e){if(-1===M.indexOf(e)){var t=g.get(e);if(t){var r=D.indexOf(e);v.splice(r,0,a.createElement(l,{key:m(t),isPresent:!1,onExitComplete:function(){g.delete(e),x.delete(e);var t=y.current.findIndex((function(t){return t.key===e}));y.current.splice(t,1),x.size||(y.current=O,j(),i&&i())},custom:n,presenceAffectsLayout:f},t))}}})),v=v.map((function(e){var t=e.key;return x.has(t)?e:a.createElement(l,{key:m(e),isPresent:!0,presenceAffectsLayout:f},e)})),y.current=v,a.createElement(a.Fragment,null,x.size?v:v.map((function(e){return Object(a.cloneElement)(e)})))}}}]);
//# sourceMappingURL=20.7647ba77.chunk.js.map