{"version":3,"sources":["components/pages/profile/myadoptionrequests/EditAdoptionStatus.js","components/shared/hooks/myadoptionrequests-hook.js","components/pages/profile/myadoptionrequests/MyAdoptionRequests.js","components/shared/hooks/fetch-hook.js","components/utils/modal/modalMotion.js","components/utils/modal/Modal.js","components/pages/profile/myadoptionposts/DeletePostModal.js"],"names":["EditAdoptionStatus","closeModal","className","onClick","myAdoptionRequests","state","action","type","responseError","isLoading","requestToDelete","data","isDeleting","deleteResult","responseData","error","isTransferingOwner","showModal","selectedRequest","areYouSureSubmit","selectedAd","adId","selectedPet","petId","selectedNewOwner","transferOwnerResult","useMyAdoptionRequests","initialState","useReducer","initialData","MyAdoptionRequests","props","useState","openModal","setOpenModal","openStatusModal","setOpenStatusModal","dispatch","auth","useContext","authContext","setPageIsLoading","pageLoadingContext","sendRequest","useFetch","modalTopRef","useRef","useEffect","isMount","getMyAdoptionRequests","a","URL","userRole","process","token","adoptionRequests","message","deleteRequest","result","transferOwner","Modal","modalClass","header","body","redirectTo","refresh","ref","finalReceived","map","request","index","Fragment","dateFormat","date","status","requester_first_name","requester_last_name","requester_phone_number","reqid","requester_id","e","currentTarget","getAttribute","setTimeout","current","scrollIntoView","disabled","style","backgroundColor","color","cursor","DeletePostModal","onlyReceived","sentRequests","length","to","adoption_ad_id","target","id","window","scrollTo","petid","pet_id","adid","useCallback","url","method","headers","fetch","response","json","parsedData","ok","Error","modalMotion","initial","y","final","exit","modalVariant","show","setShow","navigate","useNavigate","AnimatePresence","motion","div","variants","animate","location","reload"],"mappings":"kMAsBeA,EApBY,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAC1B,OACI,qBAAKC,UAAU,uDAAf,SACI,sBAAKA,UAAU,8DAAf,UACI,qBAAKA,UAAU,UAAf,SAAyB,wBACrBC,QAAS,kBAAMF,GAAW,IADL,SAErB,mBAAGC,UAAU,0BACjB,qBAAKA,UAAU,cAAf,oCAGA,sBAAKA,UAAU,8DAAf,UACI,wBAAQA,UAAU,iBAAlB,oBACA,wBACIA,UAAU,iBADd,6B,+BCXdE,EAAqB,SAACC,EAAOC,GACjC,OAAQA,EAAOC,MAQb,IAAK,QACH,OAAO,2BACFF,GADL,IAEEG,cAAe,GACfC,WAAW,IAGf,IAAK,wBACH,OAAO,2BACFJ,GADL,IAEEK,gBAAiBJ,EAAOK,OAG5B,IAAK,gBACH,OAAO,2BACFN,GADL,IAEEG,cAAe,GACfI,YAAY,IAGhB,IAAK,gBACH,OAAO,2BACFP,GADL,IAEEG,cAAe,GACfI,YAAY,EACZC,aAAcP,EAAOK,OAIzB,IAAK,UACH,OAAO,2BACFN,GADL,IAEEG,cAAe,GACfC,WAAW,EACXK,aAAcR,EAAOK,OAKzB,IAAK,UACH,OAAO,2BACFN,GADL,IAEEG,cAAeF,EAAOS,MACtBN,WAAW,EACXG,YAAY,EACZI,oBAAoB,IAIxB,IAAK,iBACH,OAAO,2BACFX,GADL,IAEEG,cAAe,KAInB,IAAK,iBACH,OAAO,2BACFH,GADL,IAEEY,WAAW,EACXC,gBAAiBZ,EAAOK,OAI5B,IAAK,gBACH,OAAO,2BACFN,GADL,IAEEY,WAAW,EACXE,kBAAkB,IAMvB,IAAK,gBACJ,OAAO,2BACFd,GADL,IAEEe,WAAYd,EAAOe,KACnBC,YAAahB,EAAOiB,QAGvB,IAAK,kBACJ,OAAO,2BACFlB,GADL,IAEEmB,iBAAkBlB,EAAOK,OAM3B,IAAK,kBACH,OAAO,2BACFN,GADL,IAEEc,kBAAmBd,EAAMc,mBAG7B,IAAK,iBACH,OAAO,2BACFd,GADL,IAEEc,kBAAkB,IAGtB,IAAK,oBACH,OAAO,2BACFd,GADL,IAEEW,oBAAoB,EACpBC,WAAW,IAIf,IAAK,kBACH,OAAO,2BACFZ,GADL,IAEEW,oBAAoB,EACpBS,oBAAqBnB,EAAOK,SAoBrBe,EAJe,SAACC,GAC7B,MAA0BC,qBAAWxB,EAAoBuB,GAAzD,mBACA,MAAO,CADP,Y,uCCjIIE,EAAc,CAClBpB,WAAW,EACXK,aAAc,KACdN,cAAe,GACfE,gBAAiB,GACjBE,YAAY,EACZC,aAAc,GACdI,WAAW,EACXC,gBAAiB,KACjBC,kBAAkB,EAClBH,oBAAoB,EACpBS,oBAAqB,GACrBH,YAAa,GACbF,WAAY,GACZI,iBAAkB,IAkYLM,UA5XY,SAACC,GAE1B,MAAkCC,oBAAS,GAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAA8CF,oBAAS,GAAvD,mBAAOG,EAAP,KAAwBC,EAAxB,KACA,EAA0BV,EAAsBG,GAAhD,mBAAOxB,EAAP,KAAcgC,EAAd,KACMC,EAAOC,qBAAWC,KAClBC,EAAmBF,qBAAWG,KAAoBD,iBAClDE,EAAcC,cACdC,EAAcC,iBAAO,MAwF3B,OAjFAC,qBAAU,WACR,IAAIC,GAAU,EACRC,EAAqB,uCAAG,8BAAAC,EAAA,sEAEpBC,EAFoB,UAEQ,iBAAlBb,EAAKc,UAAiD,UAAlBd,EAAKc,SAA1C,UAAqEC,uCAArE,2CAA2IA,uCAA3I,sBAFW,SAIKV,EAAYQ,EAAK,MAAO,KAAM,CAC3D,cAAgB,UAAhB,OAA2Bb,EAAKgB,SALR,QAIpBC,EAJoB,SAOFP,GACtBX,EAAS,CAAE9B,KAAM,UAAWI,KAAM4C,IARV,gDAUtBP,GACFX,EAAS,CAAE9B,KAAM,UAAWQ,MAAO,KAAEyC,UAXb,yDAAH,qDAe3B,OADAP,IACO,WACLR,GAAiB,GACjBO,GAAU,KAEX,CAACV,EAAKgB,MAAOhB,EAAKc,SAAUf,EAAUM,EAAaF,IAEtDM,qBAAU,WACR,IAAIC,GAAU,EACRS,EAAa,uCAAG,4BAAAP,EAAA,+EAGGP,EAAY,GAAD,OAAIU,uCAAJ,6BAA0DhD,EAAMK,gBAAkBL,EAAMK,gBAAkB,IAAM,SAAU,KAAM,CAC9J,cAAgB,UAAhB,OAA2B4B,EAAKgB,SAJhB,QAGZI,EAHY,SAMJV,GACZX,EAAS,CAAE9B,KAAM,gBAAiBI,KAAM+C,EAAOA,SAP/B,gDASdV,GACFX,EAAS,CAAE9B,KAAM,UAAWQ,MAAO,KAAEyC,UAVrB,yDAAH,qDAgBnB,OAHInD,EAAMO,YAAcoC,GACtBS,IAEK,WACLhB,GAAiB,GACjBO,GAAU,KAEX,CAACV,EAAKgB,MAAOjB,EAAUM,EAAaF,EAAkBpC,EAAMO,WAAYP,EAAMK,kBAGjFqC,qBAAU,WACR,IAAIC,GAAU,EACRW,EAAa,uCAAG,8BAAAT,EAAA,sEAEZC,EAFY,UAEgB,iBAAlBb,EAAKc,UAAiD,UAAlBd,EAAKc,SAA1C,UAAqEC,uCAArE,6BAA2HhD,EAAMiB,aAAejB,EAAMiB,YAAtJ,YAAqKjB,EAAMmB,kBAAoBnB,EAAMmB,iBAArM,YAAyNnB,EAAMe,YAAcf,EAAMe,YAAnP,UACViC,uCADU,yBACwChD,EAAMiB,aAAejB,EAAMiB,YADnE,YACkFjB,EAAMmB,kBAAoBnB,EAAMmB,iBADlH,YACsInB,EAAMe,YAAcf,EAAMe,aAH7J,SAKGuB,EAAYQ,EAAK,QAAS,KAAM,CACnD,cAAgB,UAAhB,OAA2Bb,EAAKgB,SANhB,QAKZI,EALY,SAQJV,GACZX,EAAS,CAAE9B,KAAM,kBAAmBI,KAAM+C,EAAOA,SATjC,gDAWdV,GACFX,EAAS,CAAE9B,KAAM,UAAWQ,MAAO,KAAEyC,UAZrB,yDAAH,qDAkBnB,OAHInD,EAAMW,oBAAsBgC,GAC9BW,IAEK,WACLlB,GAAiB,GACjBO,GAAU,KAEX,CAACV,EAAKgB,MAAOhB,EAAKc,SAAUf,EAAUM,EAAaF,EAAkBpC,EAAMW,mBAAoBX,EAAMe,WAAYf,EAAMiB,YAAajB,EAAMmB,mBAI7IuB,qBAAU,WACRN,EAAiBpC,EAAMI,WAAaJ,EAAMO,YAAcP,EAAMW,sBAC7D,CAACyB,EAAkBpC,EAAMI,UAAWJ,EAAMO,WAAYP,EAAMW,qBAI7D,qCAEGX,EAAMG,eACL,cAACoD,EAAA,EAAD,CACEC,WAAW,QACXC,OAAO,SACPC,KAAM1D,EAAMG,cACZ6B,SAAUA,EACV2B,WAAW,MAEd3D,EAAMQ,cACL,cAAC+C,EAAA,EAAD,CACEC,WAAW,UACXC,OAAO,YACPC,KAAM1D,EAAMQ,aACZwB,SAAUA,EACV4B,SAAS,IAEZ5D,EAAMoB,qBACL,cAACmC,EAAA,EAAD,CACEC,WAAW,UACXC,OAAO,YACPC,KAAM1D,EAAMoB,oBACZY,SAAUA,EACV4B,SAAS,IAEZ5D,EAAMY,WACL,cAAC2C,EAAA,EAAD,CACEC,WAAW,OACXC,OAAO,6BACPC,KACE,qBACE7D,UAAU,uBADZ,SAEE,sBAEEA,UAAU,oBAFZ,UAGGG,EAAMc,kBAEL,sBACE+C,IAAKrB,EACL3C,UAAU,0CAFZ,UAGE,mBAEEA,UAAU,uBAFZ,sgBAGA,sBAAKA,UAAU,4DAAf,UACE,wBACEC,QAAS,WACPkC,EAAS,CAAE9B,KAAM,uBAGnBL,UAAU,yCALZ,iBAMA,wBACEC,QAAS,kBAAMkC,EAAS,CAAE9B,KAAM,oBAChCL,UAAU,yCAFZ,sBAON,eAAC,QAAD,CAAOA,UAAU,WAAjB,UACE,cAAC,QAAD,UACE,eAAC,KAAD,WACE,cAAC,KAAD,sBACA,cAAC,KAAD,qBACA,cAAC,KAAD,mCACA,cAAC,KAAD,kCACA,cAAC,KAAD,qCACA,cAAC,KAAD,0BAGJ,cAAC,QAAD,UAEIG,EAAMS,cAAgBT,EAAMS,aAAaqD,cAAc9D,EAAMa,iBAAiBkD,KAAI,SAACC,EAASC,GAC1F,OACE,cAAC,IAAMC,SAAP,UACE,eAAC,KAAD,WACE,cAAC,KAAD,UAAKC,YAAWH,EAAQI,KAAM,aAC9B,cAAC,KAAD,UAAKJ,EAAQK,SACb,cAAC,KAAD,UAAKL,EAAQM,uBACb,cAAC,KAAD,UAAKN,EAAQO,sBACb,cAAC,KAAD,UAAKP,EAAQQ,yBACb,cAAC,KAAD,UAAI,wBACFC,MAAOT,EAAQU,aACf5E,QAAS,SAAC6E,GACR3C,EAAS,CAAE9B,KAAM,kBAAmBI,KAAMqE,EAAEC,cAAcC,aAAa,WACvE7C,EAAS,CAAE9B,KAAM,oBACjB4E,YAAW,WA1KzCtC,EAAYuC,QAAQC,mBA4Ka,MAGLC,SAAUjF,EAAMc,iBAChBoE,MAAO,CACLC,gBAAiBnF,EAAMc,iBAAmB,OAAS,GACnDsE,MAAOpF,EAAMc,iBAAmB,QAAU,GAAIuE,OAAQrF,EAAMc,iBAAmB,UAAY,WAE7FjB,UAAU,mCAfR,0BAPaoE,gBAwCrCjC,SAAUA,IAEd,8DACA,gCACE,qBAAKnC,UAAU,uCAAf,SACG+B,GAAa,cAAC0D,EAAA,EAAD,CAAiB1F,WAAYiC,EAAcG,SAAUA,MAGrE,qBAAKnC,UAAU,uCAAf,SACGiC,GAAmB,cAAC,EAAD,CAAoBlC,WAAYmC,OAEpDL,EAAM6D,cACN,qCACE,wDACJ,eAAC,QAAD,CAAO1F,UAAU,WAAjB,UAEGG,EAAMS,cAAgBT,EAAMS,aAAa+E,cAA2D,IAA3CxF,EAAMS,aAAa+E,aAAaC,QAC1F,cAAC,QAAD,UACE,cAAC,KAAD,UACE,cAAC,KAAD,mCAMHzF,EAAMS,cAAgBT,EAAMS,aAAa+E,cAA2D,IAA3CxF,EAAMS,aAAa+E,aAAaC,QACxF,qCACE,cAAC,QAAD,UACE,eAAC,KAAD,WACE,cAAC,KAAD,gCACA,cAAC,KAAD,sBACA,cAAC,KAAD,qBACA,cAAC,KAAD,0BAGJ,cAAC,QAAD,UAEGzF,EAAMS,aAAa+E,aAAazB,KAAI,SAACC,EAASC,GAC7C,OACE,eAAC,KAAD,WACE,cAAC,KAAD,UACsB,YAAnBD,EAAQK,OACP,cAAC,IAAD,CAAMxE,UAAU,kBAAkB6F,GAAE,sBAAiB1B,EAAQ2B,gBAC3DC,OAAQ,SADV,gCAIqB,aAAnB5B,EAAQK,OACR,cAAC,IAAD,CACExE,UAAU,kBAAkB6F,GAAE,qBADhC,oCAMA,qBAIN,cAAC,KAAD,UACGvB,YAAWH,EAAQI,KAAM,aAE5B,cAAC,KAAD,CAAIc,MAA0B,aAAnBlB,EAAQK,OAAwB,CAAEe,MAAO,SAA+B,aAAnBpB,EAAQK,OAAwB,CAAEe,MAAO,OAAU,CAAEA,MAAO,SAA5H,SACsB,aAAnBpB,EAAQK,OAAwB,sCAA0D,aAAnBL,EAAQK,OAAwB,4BAA6BL,EAAQK,SAG3H,YAAnBL,EAAQK,OACT,cAAC,KAAD,UACE,wBACEY,SAAUrD,EACVsD,MAAO,CAAEE,MAAOxD,EAAY,OAAS,GAAIyD,OAAQzD,EAAY,UAAY,WACzE/B,UAAU,gCACVgG,GAAI7B,EAAQ2B,eACZ7F,QAAS,SAAC6E,GACRmB,OAAOC,SAAS,EAAG,GACnB/D,EAAS,CAAE9B,KAAM,wBAAyBI,KAAMqE,EAAEC,cAAciB,KAChEhE,GAAa,IARjB,SAUC,mBAAGhC,UAAU,gCAGd,cAAC,KAAD,oBAxCJ,UAAYoE,EAAQ,sBA4DhC,4DAEA,eAAC,QAAD,CAAOpE,UAAU,WAAjB,UAEGG,EAAMS,cAAgBT,EAAMS,aAAaqD,eAA6D,IAA5C9D,EAAMS,aAAaqD,cAAc2B,QAC1F,cAAC,QAAD,UACE,cAAC,KAAD,UACE,cAAC,KAAD,uCAMLzF,EAAMS,cAAgBT,EAAMS,aAAaqD,eAA6D,IAA5C9D,EAAMS,aAAaqD,cAAc2B,QAC1F,qCACE,cAAC,QAAD,UACE,eAAC,KAAD,WACE,cAAC,KAAD,iCACA,cAAC,KAAD,8BAGJ,cAAC,QAAD,UAEGzF,EAAMS,aAAaqD,cAAcC,KAAI,SAACC,EAASC,GAC9C,OACE,cAAC,IAAMC,SAAP,UACE,eAAC,KAAD,WACE,cAAC,KAAD,UACE,cAAC,IAAD,CAAMrE,UAAU,kBAAkB6F,GAAE,sBAAiB1B,EAAQ,GAAG2B,gBAC9DC,OAAQ,SADV,kCAMF,cAAC,KAAD,UACE,yBACEC,GAAI5B,EACJ+B,MAAOhC,EAAQ,GAAGiC,OAClBC,KAAMlC,EAAQ,GAAG2B,eACjB9F,UAAU,gCACVC,QAAS,SAAC6E,GACR3C,EAAS,CAAE9B,KAAM,gBAAiBgB,MAAOyD,EAAEC,cAAcC,aAAa,SACtE7D,KAAM2D,EAAEC,cAAcC,aAAa,UAEnC7C,EAAS,CAAE9B,KAAM,iBAAkBI,KAAMqE,EAAEC,cAAciB,MAT7D,sBAWW7B,EAAQyB,OAXnB,8BAWqD,mBAAG5F,UAAU,4CArBxE,gBAA8BoE,uB,mECvUnC1B,IAnCE,WAGf,IAAMD,EAAc6D,sBAAW,uCAAC,WAC9BC,GAD8B,mCAAAvD,EAAA,6DAE9BwD,EAF8B,+BAErB,MACT3C,EAH8B,+BAGvB,KACP4C,EAJ8B,+BAIpB,GAJoB,kBAULC,MAAMH,EAAK,CAClCC,SACAC,UACA5C,SAb4B,cAUtB8C,EAVsB,gBAeHA,EAASC,OAfN,UAetBC,EAfsB,OAiBvBF,EAASG,GAjBc,uBAkBpB,IAAIC,MAAMF,EAAWhG,OAlBD,iCAoBrBgG,GApBqB,uGAAD,sDA6B5B,IACH,OAAOpE,I,mEC5BMuE,EAXK,CAClBC,QAAS,CACPC,EAAG,UAELC,MAAO,CACLD,EAAG,GAELE,KAAM,CACJF,EAAG,W,cCHDG,EAAeL,EA8DNtD,IA5DD,SAAC7B,GAEb,MAAwBC,oBAAS,GAAjC,mBAAOwF,EAAP,KAAaC,EAAb,KACMC,EAAWC,cACjB,OACE,mCACE,qBAAKzH,UAAS,sBAAiB6B,EAAM8B,YAArC,SACE,cAAC+D,EAAA,EAAD,UACGJ,GAAQ,eAACK,EAAA,EAAOC,IAAR,CACTC,SAAUR,EACVJ,QAAQ,UACRa,QAAQ,QACRV,KAAK,OAELpH,UAAS,2CAAsC6B,EAAM8B,WAA5C,mCANA,UAQP,wBAAQ3D,UAAS,qCAAgC6B,EAAM8B,YAAvD,SACG9B,EAAM+B,SAET,qBAAK5D,UAAS,iDAA4C6B,EAAM8B,YAAhE,SACG9B,EAAMgC,OAET,yBAAQ7D,UAAS,qCAAgC6B,EAAM8B,YAAvD,WACuB,UAArB9B,EAAM8B,YAA+C,SAArB9B,EAAM8B,aACpC,wBACA1D,QAAS,WACPsH,GAAQ,GACRtC,YAAW,WAAOpD,EAAMM,SAAS,CAAE9B,KAAM,mBAAoB,MAG/DL,UAAU,6CANV,sBAQF,wBACEC,QAAS,WAEP,OADAsH,GAAQ,GACJ1F,EAAMkC,QACAkB,YAAW,WAAOgB,OAAO8B,SAASC,WAAW,KACnDnG,EAAMiC,WACDmB,YAAW,WAAOuC,EAAS3F,EAAMiC,cAAc,UAExDmB,YAAW,WAAOpD,EAAMM,SAAS,CAAE9B,KAAK,GAAD,OAAKwB,EAAM8B,WAAX,iBAAsC,MAG/E3D,UAAS,6CAAwC6B,EAAM8B,YAXzD,SAW6F,YAArB9B,EAAM8B,WAA2B,KAA4B,UAArB9B,EAAM8B,YAAwD,SAArB9B,EAAM8B,WAAhB,SAAmD,uB,2CCxBjM8B,IAzBS,SAAC,GAA8B,IAA5B1F,EAA2B,EAA3BA,WAAYoC,EAAe,EAAfA,SACnC,OACI,qBAAKnC,UAAU,mDAAf,SACI,sBAAKA,UAAU,+DAAf,UACI,qBAAKA,UAAU,UAAf,SAAyB,wBACzBC,QAAS,kBAAMF,GAAW,IADD,SAEzB,mBAAGC,UAAU,0BACb,qBAAKA,UAAU,cAAf,8CAGA,sBAAKA,UAAU,6DAAf,UACI,wBACAC,QAAS,WACPF,GAAW,GACXoC,EAAS,CAAE9B,KAAM,mBAEnBL,UAAU,iBALV,iBAMA,wBAAQC,QAAS,kBAAMF,GAAW,IAC9BC,UAAU,iBADd","file":"static/js/31.75d21355.chunk.js","sourcesContent":["\r\n\r\nconst EditAdoptionStatus = ({ closeModal }) => {\r\n    return (\r\n        <div className=\"modal-background flex-col falign-center fjust-center\">\r\n            <div className=\"modal-container flex-col gap-16p falign-center fjust-center\">\r\n                <div className=\"x-close\"><button\r\n                    onClick={() => closeModal(false)}>\r\n                    <i className=\"fa-solid fa-xmark\"></i></button></div>\r\n                <div className=\"modal-title\">\r\n                    Update Request Status:\r\n                </div>\r\n                <div className=\"edit-modal-buttons-container flex-row  gap-24p fjust-center\">\r\n                    <button className=\"btn-rec-purple\">Accept</button>\r\n                    <button\r\n                        className=\"btn-rec-purple\">Reject</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditAdoptionStatus","import { useReducer } from 'react'\r\n\r\n// This custom hook is currently adjusted to validate registerpet inputs when registering a new pet\r\nconst myAdoptionRequests = (state, action) => {\r\n  switch (action.type) {\r\n\r\n\r\n\r\n    // *************** state management when using fetch *******************\r\n\r\n   \r\n\r\n    case 'start': {\r\n      return {\r\n        ...state,\r\n        responseError: '',\r\n        isLoading: true\r\n      }\r\n    }\r\n    case 'selectRequestToDelete': {\r\n      return {\r\n        ...state,\r\n        requestToDelete: action.data\r\n      }\r\n    }\r\n    case 'startDeleting': {\r\n      return {\r\n        ...state,\r\n        responseError: '',\r\n        isDeleting: true\r\n      }\r\n    }\r\n    case 'successDelete': {\r\n      return {\r\n        ...state,\r\n        responseError: '',\r\n        isDeleting: false,\r\n        deleteResult: action.data\r\n      }\r\n    }\r\n\r\n    case 'success': {\r\n      return {\r\n        ...state,\r\n        responseError: '',\r\n        isLoading: false,\r\n        responseData: action.data\r\n      }\r\n    }\r\n\r\n  \r\n    case 'failure': {\r\n      return {\r\n        ...state,\r\n        responseError: action.error,\r\n        isLoading: false,\r\n        isDeleting: false,\r\n        isTransferingOwner: false\r\n \r\n      }\r\n    }\r\n    case 'errorModalExit': {\r\n      return {\r\n        ...state,\r\n        responseError: ''\r\n      }\r\n    }\r\n\r\n    case 'showModalEnter': {\r\n      return {\r\n        ...state,\r\n        showModal: true, \r\n        selectedRequest: action.data\r\n\r\n      }\r\n    }\r\n    case 'showModalExit': {\r\n      return {\r\n        ...state,\r\n        showModal: false, \r\n        areYouSureSubmit: false\r\n\r\n      }\r\n    }\r\n   \r\n  \r\n   case 'ownershipData': {\r\n    return {\r\n      ...state,\r\n      selectedAd: action.adId,\r\n      selectedPet: action.petId\r\n    }\r\n   }\r\n   case 'selectRequester': {\r\n    return {\r\n      ...state,\r\n      selectedNewOwner: action.data,\r\n\r\n    }\r\n   }\r\n\r\n   \r\n    case 'areYouSureEnter': {\r\n      return {\r\n        ...state,\r\n        areYouSureSubmit: !state.areYouSureSubmit\r\n      }\r\n    }\r\n    case 'areYouSureExit': {\r\n      return {\r\n        ...state,\r\n        areYouSureSubmit: false\r\n      }\r\n    }\r\n    case 'areYouSureConfirm': {\r\n      return {\r\n        ...state,\r\n        isTransferingOwner: true,\r\n        showModal: false, \r\n      }\r\n    }\r\n   \r\n    case 'successTransfer': {\r\n      return {\r\n        ...state,\r\n        isTransferingOwner: false,\r\n        transferOwnerResult: action.data\r\n      }\r\n    }\r\n\r\n\r\n  \r\n  \r\n\r\n\r\n\r\n\r\n    default:\r\n      break\r\n  }\r\n}\r\n\r\nconst useMyAdoptionRequests = (initialState) => {\r\n  const [state, dispatch] = useReducer(myAdoptionRequests, initialState)\r\n  return [state, dispatch]\r\n}\r\nexport default useMyAdoptionRequests","\r\nimport DeletePostModal from \"../myadoptionposts/DeletePostModal\"\r\nimport React, { useContext, useEffect, useState, useRef } from 'react'\r\nimport EditAdoptionStatus from \"./EditAdoptionStatus\"\r\nimport { Table, Thead, Tbody, Tr, Th, Td } from 'react-super-responsive-table';\r\nimport 'react-super-responsive-table/dist/SuperResponsiveTableStyle.css';\r\nimport { Link } from 'react-router-dom'\r\nimport useMyAdoptionRequests from \"../../../shared/hooks/myadoptionrequests-hook\";\r\nimport { authContext } from \"../../../shared/context/auth-context\";\r\nimport { pageLoadingContext } from \"../../../shared/context/loading-context\";\r\nimport useFetch from \"../../../shared/hooks/fetch-hook\";\r\nimport dateFormat from \"dateformat\";\r\nimport Modal from \"../../../utils/modal/Modal\";\r\n\r\nconst initialData = {\r\n  isLoading: true,\r\n  responseData: null,\r\n  responseError: '',\r\n  requestToDelete: '',\r\n  isDeleting: false,\r\n  deleteResult: '',\r\n  showModal: false,\r\n  selectedRequest: null,\r\n  areYouSureSubmit: false,\r\n  isTransferingOwner: false,\r\n  transferOwnerResult: '',\r\n  selectedPet: '',\r\n  selectedAd: '',\r\n  selectedNewOwner: ''\r\n\r\n\r\n\r\n}\r\n\r\nconst MyAdoptionRequests = (props) => {\r\n\r\n  const [openModal, setOpenModal] = useState(false)\r\n  const [openStatusModal, setOpenStatusModal] = useState(false)\r\n  const [state, dispatch] = useMyAdoptionRequests(initialData)\r\n  const auth = useContext(authContext)\r\n  const setPageIsLoading = useContext(pageLoadingContext).setPageIsLoading\r\n  const sendRequest = useFetch()\r\n  const modalTopRef = useRef(null)\r\n\r\n\r\n  const goTopModal = () => {\r\n    modalTopRef.current.scrollIntoView()\r\n  }\r\n\r\n  useEffect(() => {\r\n    let isMount = true\r\n    const getMyAdoptionRequests = async () => {\r\n      try {\r\n        const URL = `${(auth.userRole === 'receptionist' || auth.userRole === 'admin') ? `${process.env.REACT_APP_BACKEND_URL}receptionist/adoptionRequests` : `${process.env.REACT_APP_BACKEND_URL}users/me/requests`}`\r\n\r\n        const adoptionRequests = await sendRequest(URL, 'GET', null, {\r\n          'Authorization': `Bearer ${auth.token}`\r\n        })\r\n        if (adoptionRequests && isMount)\r\n          dispatch({ type: 'success', data: adoptionRequests })\r\n      } catch (e) {\r\n        if (isMount)\r\n          dispatch({ type: 'failure', error: e.message })\r\n      }\r\n    }\r\n    getMyAdoptionRequests()\r\n    return () => {\r\n      setPageIsLoading(false)\r\n      isMount = false\r\n    }\r\n  }, [auth.token, auth.userRole, dispatch, sendRequest, setPageIsLoading])\r\n\r\n  useEffect(() => {\r\n    let isMount = true\r\n    const deleteRequest = async () => {\r\n      try {\r\n\r\n        const result = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}users/me/requests/${state.requestToDelete ? state.requestToDelete : ''}`, 'DELETE', null, {\r\n          'Authorization': `Bearer ${auth.token}`,\r\n        })\r\n        if (result && isMount)\r\n          dispatch({ type: 'successDelete', data: result.result })\r\n      } catch (e) {\r\n        if (isMount)\r\n          dispatch({ type: 'failure', error: e.message })\r\n      }\r\n    }\r\n    if (state.isDeleting && isMount) {\r\n      deleteRequest()\r\n    }\r\n    return () => {\r\n      setPageIsLoading(false)\r\n      isMount = false\r\n    }\r\n  }, [auth.token, dispatch, sendRequest, setPageIsLoading, state.isDeleting, state.requestToDelete])\r\n\r\n\r\n  useEffect(() => {\r\n    let isMount = true\r\n    const transferOwner = async () => {\r\n      try {\r\n        const URL = `${(auth.userRole === 'receptionist' || auth.userRole === 'admin') ? `${process.env.REACT_APP_BACKEND_URL}receptionist/pets/${state.selectedPet && state.selectedPet}/${state.selectedNewOwner && state.selectedNewOwner}/${state.selectedAd && state.selectedAd}` \r\n        : `${process.env.REACT_APP_BACKEND_URL}users/me/pets/${state.selectedPet && state.selectedPet}/${state.selectedNewOwner && state.selectedNewOwner}/${state.selectedAd && state.selectedAd}`}`\r\n\r\n        const result = await sendRequest(URL, 'PATCH', null, {\r\n          'Authorization': `Bearer ${auth.token}`,\r\n        })\r\n        if (result && isMount)\r\n          dispatch({ type: 'successTransfer', data: result.result })\r\n      } catch (e) {\r\n        if (isMount)\r\n          dispatch({ type: 'failure', error: e.message })\r\n      }\r\n    }\r\n    if (state.isTransferingOwner && isMount) {\r\n      transferOwner()\r\n    }\r\n    return () => {\r\n      setPageIsLoading(false)\r\n      isMount = false\r\n    }\r\n  }, [auth.token, auth.userRole, dispatch, sendRequest, setPageIsLoading, state.isTransferingOwner, state.selectedAd, state.selectedPet, state.selectedNewOwner])\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    setPageIsLoading(state.isLoading || state.isDeleting || state.isTransferingOwner)\r\n  }, [setPageIsLoading, state.isLoading, state.isDeleting, state.isTransferingOwner])\r\n\r\n\r\n  return (\r\n    <>\r\n\r\n      {state.responseError &&\r\n        <Modal\r\n          modalClass='error'\r\n          header='Oops!!'\r\n          body={state.responseError}\r\n          dispatch={dispatch}\r\n          redirectTo='/'\r\n        />}\r\n      {state.deleteResult &&\r\n        <Modal\r\n          modalClass='success'\r\n          header='Success!!'\r\n          body={state.deleteResult}\r\n          dispatch={dispatch}\r\n          refresh={true}\r\n        />}\r\n      {state.transferOwnerResult &&\r\n        <Modal\r\n          modalClass='success'\r\n          header='Success!!'\r\n          body={state.transferOwnerResult}\r\n          dispatch={dispatch}\r\n          refresh={true}\r\n        />}\r\n      {state.showModal &&\r\n        <Modal\r\n          modalClass='show'\r\n          header='Your adoption ad wish list'\r\n          body={\r\n            <div\r\n              className=\"are-you-sure-wrapper\">\r\n              <div\r\n\r\n                className=\" flex-col gap-12p\">\r\n                {state.areYouSureSubmit &&\r\n\r\n                  <div\r\n                    ref={modalTopRef}\r\n                    className=\"are-you-sure-container flex-col gap-16p\">\r\n                    <p\r\n\r\n                      className='are-you-sure-message'>By accepting the request you will be approving that a meeting with the requester has been conducted and the requester you have selected is the right candidate for your pet, and you are willing to transfer your pet's ownership to the requester. Your adoption post will be removed so you can no longer see the requested pet in your profile and all data related to you pet will be handed to the new owner,Also by accepting you will be rejecting all other requesters in the list so is Yes your final answer ?</p>\r\n                    <div className=\"are-you-sure-buttons-wrapper flex-row gap-8p fjust-center\">\r\n                      <button\r\n                        onClick={() => {\r\n                          dispatch({ type: 'areYouSureConfirm' })\r\n                        }\r\n                        }\r\n                        className=\"btn-r btn-r-blue accept-adoption-final\">Yes</button>\r\n                      <button\r\n                        onClick={() => dispatch({ type: 'areYouSureExit' })}\r\n                        className=\"btn-r btn-r-blue accept-adoption-final\">No</button>\r\n                    </div>\r\n                  </div>\r\n\r\n                }\r\n                <Table className=\"my-table\">\r\n                  <Thead>\r\n                    <Tr>\r\n                      <Th>Sent AT</Th>\r\n                      <Th>Status</Th>\r\n                      <Th>Requester first name</Th>\r\n                      <Th>Requester last name</Th>\r\n                      <Th>Requester phone number</Th>\r\n                      <Th>Action</Th>\r\n                    </Tr>\r\n                  </Thead>\r\n                  <Tbody>\r\n                    {\r\n                      state.responseData && state.responseData.finalReceived[state.selectedRequest].map((request, index) => {\r\n                        return (\r\n                          <React.Fragment key={index}>\r\n                            <Tr>\r\n                              <Td>{dateFormat(request.date, 'default')}</Td>\r\n                              <Td>{request.status}</Td>\r\n                              <Td>{request.requester_first_name}</Td>\r\n                              <Td>{request.requester_last_name}</Td>\r\n                              <Td>{request.requester_phone_number}</Td>\r\n                              <Td><button\r\n                                reqid={request.requester_id}\r\n                                onClick={(e) => {\r\n                                  dispatch({ type: 'selectRequester', data: e.currentTarget.getAttribute('reqid')})\r\n                                  dispatch({ type: 'areYouSureEnter' })\r\n                                  setTimeout(() => {\r\n                                    goTopModal()\r\n                                  }, 300);\r\n                                }\r\n                                }\r\n                                disabled={state.areYouSureSubmit}\r\n                                style={{\r\n                                  backgroundColor: state.areYouSureSubmit ? 'grey' : '',\r\n                                  color: state.areYouSureSubmit ? 'white' : '', cursor: state.areYouSureSubmit ? 'default' : 'pointer'\r\n                                }}\r\n                                className=\"btn-r btn-r-blue accept-adoption\">Accept</button></Td>\r\n                            </Tr>\r\n\r\n                          </React.Fragment>\r\n\r\n\r\n                        )\r\n                      })\r\n                    }\r\n\r\n\r\n                  </Tbody>\r\n\r\n\r\n                </Table>\r\n              </div>\r\n            </div>\r\n          }\r\n          dispatch={dispatch}\r\n        />}\r\n      <h4>Adoption Requests Management</h4>\r\n      <div>\r\n        <div className=\"flex-col falign-center fjust-center \">\r\n          {openModal && <DeletePostModal closeModal={setOpenModal} dispatch={dispatch} />}\r\n        </div>\r\n\r\n        <div className=\"flex-col falign-center fjust-center \">\r\n          {openStatusModal && <EditAdoptionStatus closeModal={setOpenStatusModal} />}\r\n        </div>\r\n        {!props.onlyReceived &&\r\n          <>\r\n            <h3>Sent Adoption Requests</h3>\r\n        <Table className=\"my-table\">\r\n\r\n          {state.responseData && state.responseData.sentRequests && state.responseData.sentRequests.length === 0 &&\r\n          <Thead>\r\n            <Tr>\r\n              <Th>\r\n                No sent requests\r\n              </Th>\r\n            </Tr>\r\n          </Thead>\r\n          }\r\n          {state.responseData && state.responseData.sentRequests && state.responseData.sentRequests.length !== 0 &&\r\n            <>\r\n              <Thead>\r\n                <Tr>\r\n                  <Th>Pet You Requested</Th>\r\n                  <Th>Sent At</Th>\r\n                  <Th>Status</Th>\r\n                  <Th>Delete</Th>\r\n                </Tr>\r\n              </Thead>\r\n              <Tbody>\r\n\r\n                {state.responseData.sentRequests.map((request, index) => {\r\n                  return (\r\n                    <Tr key={`${index + '-tr'}`}>\r\n                      <Td>\r\n                        {request.status === 'pending' ?\r\n                          <Link className=\"my-great-button\" to={`/adoptionad/${request.adoption_ad_id}`}\r\n                            target={'_blank'}>\r\n                            Click here to view\r\n                          </Link>\r\n                          : request.status === 'accepted' ?\r\n                            <Link\r\n                              className=\"my-great-button\" to={`/myprofile/petinfo`}\r\n                            >\r\n                              Check out your new pet\r\n                            </Link>\r\n                            :\r\n                            'Post got removed'\r\n                        }\r\n\r\n                      </Td>\r\n                      <Td>\r\n                        {dateFormat(request.date, 'default')}\r\n                      </Td>\r\n                      <Td style={request.status === 'accepted' ? { color: 'green' } : request.status === 'rejected' ? { color: 'red' } : { color: 'black' }}>\r\n                        {request.status === 'accepted' ? 'Your adoption request got accepted ': request.status === 'rejected' ? 'Pet got adopted by others': request.status}\r\n                      </Td>\r\n\r\n                      {request.status === 'pending' ? \r\n                      <Td>\r\n                        <button\r\n                          disabled={openModal}\r\n                          style={{ color: openModal ? 'grey' : '', cursor: openModal ? 'default' : 'pointer' }}\r\n                          className=\"my-great-button margin-bottom\"\r\n                          id={request.adoption_ad_id}\r\n                          onClick={(e) => {\r\n                            window.scrollTo(0, 0)\r\n                            dispatch({ type: 'selectRequestToDelete', data: e.currentTarget.id })\r\n                            setOpenModal(true)\r\n                          }}\r\n                        ><i className=\"fa-regular fa-trash-can\"></i></button>\r\n                      </Td> \r\n                      :\r\n                        <Td>\r\n                          -/-\r\n                        </Td>\r\n                      }\r\n\r\n\r\n                    </Tr>\r\n                  )\r\n                })}\r\n\r\n              </Tbody>\r\n            </>\r\n\r\n          }\r\n\r\n        </Table>\r\n          </>\r\n        }\r\n        \r\n\r\n        <h3>Received Adoption Requests</h3>\r\n\r\n        <Table className=\"my-table\">\r\n\r\n          {state.responseData && state.responseData.finalReceived && state.responseData.finalReceived.length === 0 &&\r\n            <Thead>\r\n              <Tr>\r\n                <Th>\r\n                  No received requests\r\n                </Th>\r\n              </Tr>\r\n            </Thead>\r\n          }\r\n          {state.responseData && state.responseData.finalReceived && state.responseData.finalReceived.length !== 0 &&\r\n            <>\r\n              <Thead>\r\n                <Tr>\r\n                  <Th>Your Requested Pet</Th>\r\n                  <Th>Requesters</Th>\r\n                </Tr>\r\n              </Thead>\r\n              <Tbody>\r\n\r\n                {state.responseData.finalReceived.map((request, index) => {\r\n                  return (\r\n                    <React.Fragment key={`index-${index}`}>\r\n                      <Tr >\r\n                        <Td>\r\n                          <Link className=\"my-great-button\" to={`/adoptionad/${request[0].adoption_ad_id}`}\r\n                            target={'_blank'}>\r\n                            Click here to view\r\n                          </Link>\r\n                        </Td>\r\n\r\n                        <Td>\r\n                          <button\r\n                            id={index}\r\n                            petid={request[0].pet_id}\r\n                            adid={request[0].adoption_ad_id}\r\n                            className=\"my-great-button margin-bottom\"\r\n                            onClick={(e) => {\r\n                              dispatch({ type: 'ownershipData', petId: e.currentTarget.getAttribute('petid'),\r\n                              adId: e.currentTarget.getAttribute('adid')\r\n                              })\r\n                              dispatch({ type: 'showModalEnter', data: e.currentTarget.id })\r\n                            }}\r\n                          >You have {request.length} request(s) click to check <i className=\"fa-solid fa-circle-exclamation\"></i></button>\r\n                        </Td>\r\n                      </Tr>\r\n\r\n                    </React.Fragment>\r\n\r\n\r\n                  )\r\n                })}\r\n\r\n              </Tbody>\r\n            </>\r\n\r\n          }\r\n\r\n        </Table>\r\n\r\n\r\n      </div>\r\n    </>\r\n\r\n\r\n  )\r\n}\r\n\r\nexport default MyAdoptionRequests","\r\n\r\n// this custom hook contains the logic of sending a request to the server and getting databack, we wrap it with a useCallback so that it won't create the function every time the component using the hooks rerenders\r\n\r\nimport { useCallback } from \"react\"\r\n\r\nconst useFetch = () => {\r\n\r\n\r\n  const sendRequest = useCallback(async (\r\n    url,\r\n    method = 'GET',\r\n    body = null,\r\n    headers = {},\r\n\r\n\r\n  ) => {\r\n    try {\r\n      // 'Content-Type': 'application/json'\r\n      const response = await fetch(url, {\r\n      method,\r\n      headers,\r\n      body,\r\n    })\r\n      const parsedData = await response.json()\r\n  \r\n      if (!response.ok) {\r\n        throw new Error(parsedData.error)\r\n      }\r\n      return parsedData\r\n      \r\n    } catch (e) {\r\n      throw e\r\n    }\r\n    \r\n    \r\n  \r\n  \r\n  }, []) \r\n  return sendRequest\r\n}\r\nexport default useFetch","const modalMotion = {\r\n  initial: {\r\n    y: '-100vh',\r\n  },\r\n  final: {\r\n    y: 0,\r\n  },\r\n  exit: {\r\n    y: '-100vh'\r\n  }\r\n}\r\nexport default modalMotion","import { AnimatePresence, motion } from \"framer-motion\"\r\nimport { useState } from \"react\"\r\nimport modalMotion from \"./modalMotion\"\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst modalVariant = modalMotion\r\n\r\nconst Modal = (props) => {\r\n\r\n  const [show, setShow] = useState(true)\r\n  const navigate = useNavigate()\r\n  return (\r\n    <>\r\n      <div className={`modal modal_${props.modalClass}`}>\r\n        <AnimatePresence>\r\n          {show && <motion.div \r\n          variants={modalVariant}\r\n          initial='initial'\r\n          animate='final'\r\n          exit='exit'\r\n\r\n          className={`modal-container modal-container__${props.modalClass} flex-col gap-16p falign-center`}>\r\n\r\n            <header className={`modal-header modal-header__${props.modalClass}`}>\r\n              {props.header}\r\n            </header>\r\n            <div className={`flex-col gap-8p modal-body modal-body__${props.modalClass}`}>\r\n              {props.body}\r\n            </div>\r\n            <footer className={`modal-footer modal-footer__${props.modalClass}`}>\r\n            {(props.modalClass === 'check' || props.modalClass === 'edit') && \r\n                <button\r\n                onClick={() => {\r\n                  setShow(false)\r\n                  setTimeout(() => {props.dispatch({ type: 'finalConfirm' })}, 300)\r\n                  \r\n                }}\r\n                className='btn-rec modal-button modal-button__confirm'>Confirm </button>\r\n              }\r\n              <button\r\n                onClick={() => {\r\n                  setShow(false)\r\n                  if (props.refresh)\r\n                    return  setTimeout(() => {window.location.reload()}, 300)\r\n                  if (props.redirectTo)\r\n                    return setTimeout(() => {navigate(props.redirectTo)}, 300)\r\n                    \r\n                  setTimeout(() => {props.dispatch({ type: `${props.modalClass}ModalExit` })}, 300)\r\n                  \r\n                }}\r\n                className={`btn-rec modal-button modal-button__${props.modalClass}`}>{props.modalClass === 'success' ? 'OK' : props.modalClass === 'check' ? 'Cancel' :props.modalClass === 'edit' ? 'Cancel' : 'Exit'}</button>\r\n\r\n              \r\n              \r\n            </footer>\r\n\r\n          </motion.div>}\r\n        </AnimatePresence>\r\n\r\n\r\n      </div>\r\n    </>\r\n\r\n  )\r\n  // modalClass, header, body, modalButtonClass, modalType\r\n}\r\n\r\nexport default Modal","\r\nconst DeletePostModal = ({ closeModal, dispatch }) => {\r\n    return (\r\n        <div className=\"modal-background flex falign-center fjust-center\">\r\n            <div className=\"modal-container flex-col fgap-16p falign-center fjust-center\">\r\n                <div className=\"x-close\"><button\r\n                onClick={() => closeModal(false)}>\r\n                <i className=\"fa-solid fa-xmark\"></i></button></div>\r\n                <div className=\"modal-title\">\r\n                    Are you sure you want to delete?\r\n                </div>\r\n                <div className=\"flex-row edit-modal-buttons-container gap-24p fjust-center\">\r\n                    <button \r\n                    onClick={() => {\r\n                      closeModal(false)\r\n                      dispatch({ type: 'startDeleting' })\r\n                    }}\r\n                    className=\"btn-rec-purple\">Yes</button>\r\n                    <button onClick={() => closeModal(false)}\r\n                        className=\"btn-rec-purple\">No</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DeletePostModal"],"sourceRoot":""}