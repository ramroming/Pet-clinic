{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","components/shared/hooks/postpreview-hook.js","components/pages/postpreview/PostPreview.js","components/shared/hooks/fetch-hook.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/utils/modal/modalMotion.js","components/utils/modal/Modal.js","components/utils/formErrorMsg/InputError.js","../node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.js","../node_modules/framer-motion/dist/es/components/AnimatePresence/index.js","../node_modules/framer-motion/dist/es/utils/use-force-update.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","postPreview","state","action","type","length","field","error","responseError","isLoading","responseData","data","isCreating","responseCreate","story","missingStory","usePostPreview","initialState","useReducer","initialData","PostReview","id","useParams","dispatch","sendRequest","useFetch","auth","useContext","authContext","setPageIsLoading","pageLoadingContext","useEffect","isMount","getPet","a","URL","userRole","process","token","pet","message","createPost","JSON","stringify","pet_id","result","Modal","modalClass","header","body","response","redirectTo","ad_id","className","shelter_id","target","to","pet_name","breed_name","birth_date","gender","colors","photo","src","createObjectURL","Blob","Uint8Array","alt","InputError","direction","style","top","margin","class","msg","placeholder","onChange","e","currentTarget","color","textAlign","width","padding","onClick","trainings","map","training","index","Fragment","trainer_first_name","trainer_last_name","useCallback","url","method","headers","fetch","json","parsedData","ok","Error","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","modalMotion","initial","y","final","exit","modalVariant","props","useState","show","setShow","navigate","useNavigate","AnimatePresence","motion","div","variants","animate","setTimeout","refresh","window","location","reload","presenceId","getPresenceId","PresenceChild","_a","children","isPresent","onExitComplete","custom","presenceAffectsLayout","presenceChildren","useConstant","newChildrenMap","context","useMemo","childId","set","allComplete","isComplete","register","delete","undefined","_","React","size","PresenceContext","Provider","Map","getChildKey","child","_b","exitBeforeEnter","_c","forceRender","unloadingRef","useRef","__read","forcedRenderCount","setForcedRenderCount","useUnmountEffect","current","useForceUpdate","layoutContext","SharedLayoutContext","isSharedLayout","forceUpdate","isInitialRender","filteredChildren","filtered","Children","isValidElement","onlyElements","presentChildren","allChildren","exiting","Set","updateChildLookup","childrenToRender","__spreadArray","presentKeys","targetKeys","numPresent","indexOf","add","get","insertionIndex","splice","removeIndex","findIndex","presentChild","has","cloneElement"],"mappings":"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","file":"static/js/21.d656cff5.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import { useReducer } from 'react'\r\n\r\n// This custom hook is currently adjusted to validate user inputs when signing up using userReducer\r\nconst postPreview = (state, action) => {\r\n  switch (action.type) {\r\n\r\n    // ***************** Forms input validations *************************\r\n    case 'enterValue': {\r\n      if (action.value.length > 400)\r\n        return {\r\n          ...state,\r\n          [action.field]: {\r\n            ...state[action.field],\r\n            error: 'Max Characters length is 400 !!',\r\n          }\r\n        }\r\n      return {\r\n        ...state,\r\n        [action.field]: {\r\n          error: '',\r\n          value: action.value\r\n        }\r\n      }\r\n    }\r\n   \r\n   \r\n\r\n  \r\n    // *************** state management when using fetch *******************\r\n    \r\n    case 'start': {\r\n      return {\r\n        ...state,\r\n        responseError: '',\r\n        isLoading: true,\r\n\r\n      }\r\n    }\r\n    \r\n    // when fetching data is succeded \r\n    case 'success': {\r\n      return {\r\n        ...state,\r\n        responseError: '',\r\n        isLoading: false,\r\n        responseData: action.data\r\n      }\r\n    }\r\n    case 'successCreate': {\r\n      return {\r\n        ...state,\r\n        responseError: '',\r\n        isCreating: false,\r\n        responseCreate: action.data\r\n      }\r\n    }\r\n\r\n    // when fetching data is failed\r\n    case 'failure': {\r\n      return {\r\n        ...state,\r\n        responseError: action.error,\r\n        isLoading: false,\r\n        isCreating: false\r\n      }\r\n    }\r\n\r\n\r\n    case 'validate': {\r\n      if (!state.story.value)\r\n        return {\r\n          ...state,\r\n          missingStory: 'Please fill a story about your pet'\r\n        }\r\n      return {\r\n        ...state,\r\n        isCreating: true,\r\n        missingStory: '',\r\n        responseError: ''\r\n      }\r\n    }\r\n    case 'errorModalExit': {\r\n      return {\r\n        ...state,\r\n        responseError: ''\r\n      }\r\n    }\r\n\r\n\r\n    default:\r\n      break\r\n  }\r\n}\r\n\r\nconst usePostPreview = (initialState) => {\r\n  const [state, dispatch] = useReducer(postPreview, initialState)\r\n  return [state, dispatch]\r\n}\r\nexport default usePostPreview","import usePostPreview from \"../../shared/hooks/postpreview-hook\"\r\nimport { useEffect, useContext } from 'react'\r\nimport useFetch from \"../../shared/hooks/fetch-hook\"\r\nimport { useParams } from \"react-router\"\r\nimport { authContext } from \"../../shared/context/auth-context\"\r\nimport { pageLoadingContext } from \"../../shared/context/loading-context\"\r\nimport { Link } from \"react-router-dom\"\r\nimport InputError from \"../../utils/formErrorMsg/InputError\"\r\nimport React from 'react'\r\nimport Modal from '../../utils/modal/Modal'\r\n\r\n\r\nconst initialData = {\r\n  isLoading: false,\r\n  isCreating: false,\r\n  responseData: {},\r\n  responseError: '',\r\n  story: {\r\n    value: '',\r\n    error: ''\r\n  },\r\n  missingStory: '',\r\n  responseCreate: '',\r\n\r\n}\r\nconst PostReview = () => {\r\n\r\n  const { id } = useParams()\r\n  const [state, dispatch] = usePostPreview(initialData)\r\n  const sendRequest = useFetch()\r\n  const auth = useContext(authContext)\r\n  const setPageIsLoading = useContext(pageLoadingContext).setPageIsLoading\r\n\r\n  useEffect(() => {\r\n    let isMount = true\r\n    const getPet = async () => {\r\n      if (isMount)\r\n        dispatch({ type: 'start' })\r\n      try {\r\n        const URL = `${(auth.userRole === 'receptionist' || auth.userRole === 'admin') ? `${process.env.REACT_APP_BACKEND_URL}receptionist/shelterpet/${id}` : `${process.env.REACT_APP_BACKEND_URL}users/me/pets/${id}`}`\r\n        const pet = await sendRequest(URL, 'GET', null, {\r\n          'Authorization': `Bearer ${auth.token}`\r\n        })\r\n        if (pet && isMount)\r\n          dispatch({ type: 'success', data: pet })\r\n      } catch (e) {\r\n        if (isMount)\r\n          dispatch({ type: 'failure', error: e.message })\r\n      }\r\n    }\r\n    getPet()\r\n    return () => {\r\n      isMount = false\r\n    }\r\n  }, [auth.token, auth.userRole, dispatch, id, sendRequest])\r\n\r\n  useEffect(() => {\r\n    setPageIsLoading(state.isLoading)\r\n  }, [state.isLoading, setPageIsLoading])\r\n\r\n  // post creating\r\n  useEffect(() => {\r\n    let isMount = true\r\n    if (isMount)\r\n      setPageIsLoading(state.isCreating)\r\n    const createPost = async () => {\r\n      try {\r\n        const URL = `${(auth.userRole === 'receptionist' || auth.userRole === 'admin') ? `${process.env.REACT_APP_BACKEND_URL}receptionist/adoptionads` : `${process.env.REACT_APP_BACKEND_URL}users/me/adoptionads/`}`\r\n\r\n        const result = await sendRequest(URL, 'POST', JSON.stringify({\r\n          pet_id: id,\r\n          story: state.story.value\r\n        }), {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${auth.token}`\r\n        })\r\n        if (result && isMount)\r\n          dispatch({ type: 'successCreate', data: result })\r\n      } catch (e) {\r\n        if (isMount)\r\n          dispatch({ type: 'failure', error: e.message })\r\n      }\r\n    }\r\n    if (state.isCreating)\r\n      createPost()\r\n\r\n    return () => {\r\n      setPageIsLoading(false)\r\n      isMount = false\r\n    }\r\n  }, [state.isCreating, setPageIsLoading, auth.token, auth.userRole, dispatch, id, sendRequest, state.story])\r\n\r\n  const createAd = () => {\r\n    dispatch({ type: 'validate' })\r\n  }\r\n  return (\r\n    <>\r\n      {/* UI modals */}\r\n      {state.responseError &&\r\n        <Modal\r\n          modalClass='error'\r\n          header='Oops!!'\r\n          body={state.responseError}\r\n          dispatch={dispatch}\r\n        />}\r\n        {state.responseCreate &&\r\n        <Modal\r\n          modalClass='success'\r\n          header='Success!!'\r\n          body={state.responseCreate.response}\r\n          dispatch={dispatch}\r\n          redirectTo={`/adoptionad/${state.responseCreate.ad_id}`}\r\n        />}\r\n      <div className=\" adoption-ad-wrapper home-container flex-col falign-center gap-24p \">\r\n\r\n        <p className=\"post-review-header\">This is a preview of how your adoption ad would be viewed by others</p>\r\n\r\n        {!state.responseData.shelter_id && \r\n        <p className=\"post-review-header-small\">\r\n          The info here is retrieved from your pet's profile,\r\n          you can edit the info from<Link className=\"link\" target={'blank'} to=\"/myprofile/petinfo\"> here </Link>:).<br />\r\n          feel free to provide more details in the pet's story box!\r\n        </p>}\r\n\r\n        {/* first main flex item ++ pet intro, info and photo ++ */}\r\n        <div className=\"pet-basic-info-wrapper flex-col falign-center fjust-center gap-24p\">\r\n\r\n          {/* first mini flex */}\r\n\r\n          <div className=\" wrapper flex-col falign-center fjust-center gap-16p\">\r\n\r\n            <div className=\"intro flex-col falign-center fjust-center gap-16p\">\r\n              <p className=\"intro-hi\">hi i'm</p>\r\n              <p className=\"pet-name\">{state.responseData.pet_name && state.responseData.pet_name}</p>\r\n              <p className=\"pet-breed\">Breed: {state.responseData.breed_name && state.responseData.breed_name}</p>\r\n            </div>\r\n\r\n            <div className=\"pet-info flex-col gap-16p\">\r\n\r\n              <div className=\"flex-row gap-8p\">\r\n                <label>Age: </label>\r\n                <p>{state.responseData.birth_date && state.responseData.birth_date}</p>\r\n              </div>\r\n\r\n              <div className=\"flex-row gap-8p\">\r\n                <label>Gender: </label>\r\n                <p>{state.responseData.gender && state.responseData.gender}</p>\r\n              </div>\r\n\r\n              <div className=\"flex-row gap-8p\">\r\n                <label>Color: </label>\r\n                {state.responseData.colors &&\r\n                  <p>{state.responseData.colors}</p>\r\n                }\r\n              </div>\r\n\r\n              <div className=\"flex-row gap-8p\">\r\n                <label>Located At: </label>\r\n                <p>{state.responseData.shelter_id ? 'The shelter' : 'Owner house'}</p>\r\n              </div>\r\n\r\n            </div>\r\n\r\n\r\n          </div>\r\n\r\n          {/* second mini flex */}\r\n          <div className=\"flex-col fjust-center falign-center pet-image-container\">\r\n            {state.responseData.photo ?\r\n              <img src={URL.createObjectURL(new Blob([new Uint8Array(state.responseData.photo.data)]))} alt=\"pet\" />\r\n              :\r\n              <>\r\n                <img src=\"/media/imgs/nophotopet.jpg\" alt='pet' />\r\n\r\n                <Link target={'blank'} to=\"/myprofile/petinfo\" className=\"btn-rec adopt-btn special\">Dont forget to add a photo for your pet!</Link>\r\n              </>\r\n\r\n            }\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n        {/* second main flex item ++ pet story & trainings ++ */}\r\n        <div className=\"pet-story flex-col gap-16p\">\r\n\r\n          <div className=\"adopt-story flex-col\">\r\n            <h2>My story</h2>\r\n            {state.story.error && <InputError direction='bottom' style={{ top: '50%', margin: '.5rem' }} class='error-msg' msg={state.story.error} />}\r\n            <textarea\r\n              className=\"story-textarea\" placeholder={`example: Looking for a cute, energetic little kitten? Come meet me and see if I'm the one for you!...`}\r\n              value={state.story.value}\r\n              onChange={(e) => dispatch({ type: 'enterValue', value: e.currentTarget.value, field: 'story' })}\r\n\r\n            ></textarea>\r\n\r\n            {state.missingStory && <p style={{ color: 'red', textAlign: 'center', width: '70%', margin: 'auto', padding: '0.5rem' }}>{state.missingStory}</p>}\r\n\r\n            <input\r\n              onClick={createAd}\r\n              className=\"btn-rec-purple\" type=\"submit\" />\r\n          </div>\r\n\r\n          <div className=\"training-story flex-col gap-8p\">\r\n\r\n\r\n            {state.responseData.trainings &&\r\n              <>\r\n                <h2>My trainings <i className=\"fas fa-medal\"></i></h2>\r\n\r\n                {state.responseData.trainings.length === 0 ?\r\n                  <p>No Previous trainings for this pet </p> :\r\n                  state.responseData.trainings.map((training, index) => {\r\n                    return (\r\n                      <React.Fragment key={index}>\r\n                        <div className=\"flex-row gap-8p\">\r\n                          <label>Training: </label>\r\n                          <p>{training.training}</p>\r\n                        </div>\r\n\r\n                        <div className=\"flex-row gap-8p\">\r\n                          <label>Trained by: </label>\r\n                          <p>{training.trainer_first_name + ' ' + training.trainer_last_name}</p>\r\n                        </div>\r\n                        <br />\r\n                      </React.Fragment>\r\n                    )\r\n                  })\r\n\r\n                }\r\n              </>\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n          </div>\r\n\r\n\r\n\r\n        </div>\r\n\r\n\r\n\r\n      </div>\r\n    </>\r\n\r\n  )\r\n}\r\nexport default PostReview","\r\n\r\n// this custom hook contains the logic of sending a request to the server and getting databack, we wrap it with a useCallback so that it won't create the function every time the component using the hooks rerenders\r\n\r\nimport { useCallback } from \"react\"\r\n\r\nconst useFetch = () => {\r\n\r\n\r\n  const sendRequest = useCallback(async (\r\n    url,\r\n    method = 'GET',\r\n    body = null,\r\n    headers = {},\r\n\r\n\r\n  ) => {\r\n    try {\r\n      // 'Content-Type': 'application/json'\r\n      const response = await fetch(url, {\r\n      method,\r\n      headers,\r\n      body,\r\n    })\r\n      const parsedData = await response.json()\r\n  \r\n      if (!response.ok) {\r\n        throw new Error(parsedData.error)\r\n      }\r\n      return parsedData\r\n      \r\n    } catch (e) {\r\n      throw e\r\n    }\r\n    \r\n    \r\n  \r\n  \r\n  }, []) \r\n  return sendRequest\r\n}\r\nexport default useFetch","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","const modalMotion = {\r\n  initial: {\r\n    y: '-100vh',\r\n  },\r\n  final: {\r\n    y: 0,\r\n  },\r\n  exit: {\r\n    y: '-100vh'\r\n  }\r\n}\r\nexport default modalMotion","import { AnimatePresence, motion } from \"framer-motion\"\r\nimport { useState } from \"react\"\r\nimport modalMotion from \"./modalMotion\"\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst modalVariant = modalMotion\r\n\r\nconst Modal = (props) => {\r\n\r\n  const [show, setShow] = useState(true)\r\n  const navigate = useNavigate()\r\n  return (\r\n    <>\r\n      <div className={`modal modal_${props.modalClass}`}>\r\n        <AnimatePresence>\r\n          {show && <motion.div \r\n          variants={modalVariant}\r\n          initial='initial'\r\n          animate='final'\r\n          exit='exit'\r\n\r\n          className={`modal-container modal-container__${props.modalClass} flex-col gap-16p falign-center`}>\r\n\r\n            <header className={`modal-header modal-header__${props.modalClass}`}>\r\n              {props.header}\r\n            </header>\r\n            <div className={`flex-col gap-8p modal-body modal-body__${props.modalClass}`}>\r\n              {props.body}\r\n            </div>\r\n            <footer className={`modal-footer modal-footer__${props.modalClass}`}>\r\n            {(props.modalClass === 'check' || props.modalClass === 'edit') && \r\n                <button\r\n                onClick={() => {\r\n                  setShow(false)\r\n                  setTimeout(() => {props.dispatch({ type: 'finalConfirm' })}, 300)\r\n                  \r\n                }}\r\n                className='btn-rec modal-button modal-button__confirm'>Confirm </button>\r\n              }\r\n              <button\r\n                onClick={() => {\r\n                  setShow(false)\r\n                  if (props.refresh)\r\n                    return  setTimeout(() => {window.location.reload()}, 300)\r\n                  if (props.redirectTo)\r\n                    return setTimeout(() => {navigate(props.redirectTo)}, 300)\r\n                    \r\n                  setTimeout(() => {props.dispatch({ type: `${props.modalClass}ModalExit` })}, 300)\r\n                  \r\n                }}\r\n                className={`btn-rec modal-button modal-button__${props.modalClass}`}>{props.modalClass === 'success' ? 'OK' : props.modalClass === 'check' ? 'Cancel' :props.modalClass === 'edit' ? 'Cancel' : 'Exit'}</button>\r\n\r\n              \r\n              \r\n            </footer>\r\n\r\n          </motion.div>}\r\n        </AnimatePresence>\r\n\r\n\r\n      </div>\r\n    </>\r\n\r\n  )\r\n  // modalClass, header, body, modalButtonClass, modalType\r\n}\r\n\r\nexport default Modal","const InputError = (props) => {\r\n  return (\r\n    <span style={props.style} className={props.class}>{props.msg}</span>\r\n  )\r\n}\r\n\r\nexport default InputError","import * as React from 'react';\nimport { useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { useConstant } from '../../utils/use-constant.js';\n\nvar presenceId = 0;\nfunction getPresenceId() {\n    var id = presenceId;\n    presenceId++;\n    return id;\n}\nvar PresenceChild = function (_a) {\n    var children = _a.children, initial = _a.initial, isPresent = _a.isPresent, onExitComplete = _a.onExitComplete, custom = _a.custom, presenceAffectsLayout = _a.presenceAffectsLayout;\n    var presenceChildren = useConstant(newChildrenMap);\n    var id = useConstant(getPresenceId);\n    var context = useMemo(function () { return ({\n        id: id,\n        initial: initial,\n        isPresent: isPresent,\n        custom: custom,\n        onExitComplete: function (childId) {\n            presenceChildren.set(childId, true);\n            var allComplete = true;\n            presenceChildren.forEach(function (isComplete) {\n                if (!isComplete)\n                    allComplete = false;\n            });\n            allComplete && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n        },\n        register: function (childId) {\n            presenceChildren.set(childId, false);\n            return function () { return presenceChildren.delete(childId); };\n        },\n    }); }, \n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    presenceAffectsLayout ? undefined : [isPresent]);\n    useMemo(function () {\n        presenceChildren.forEach(function (_, key) { return presenceChildren.set(key, false); });\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(function () {\n        !isPresent && !presenceChildren.size && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n    }, [isPresent]);\n    return (React.createElement(PresenceContext.Provider, { value: context }, children));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n","import { __spreadArray, __read } from 'tslib';\nimport * as React from 'react';\nimport { useContext, useRef, cloneElement, Children, isValidElement } from 'react';\nimport { useForceUpdate } from '../../utils/use-force-update.js';\nimport { PresenceChild } from './PresenceChild.js';\nimport { SharedLayoutContext, isSharedLayout } from '../../context/SharedLayoutContext.js';\n\nfunction getChildKey(child) {\n    return child.key || \"\";\n}\nfunction updateChildLookup(children, allChildren) {\n    var seenChildren = process.env.NODE_ENV !== \"production\" ? new Set() : null;\n    children.forEach(function (child) {\n        var key = getChildKey(child);\n        if (process.env.NODE_ENV !== \"production\" && seenChildren) {\n            if (seenChildren.has(key)) {\n                console.warn(\"Children of AnimatePresence require unique keys. \\\"\" + key + \"\\\" is a duplicate.\");\n            }\n            seenChildren.add(key);\n        }\n        allChildren.set(key, child);\n    });\n}\nfunction onlyElements(children) {\n    var filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    Children.forEach(children, function (child) {\n        if (isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * @library\n *\n * Any `Frame` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { Frame, AnimatePresence } from 'framer'\n *\n * // As items are added and removed from `items`\n * export function Items({ items }) {\n *   return (\n *     <AnimatePresence>\n *       {items.map(item => (\n *         <Frame\n *           key={item.id}\n *           initial={{ opacity: 0 }}\n *           animate={{ opacity: 1 }}\n *           exit={{ opacity: 0 }}\n *         />\n *       ))}\n *     </AnimatePresence>\n *   )\n * }\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * @motion\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nvar AnimatePresence = function (_a) {\n    var children = _a.children, custom = _a.custom, _b = _a.initial, initial = _b === void 0 ? true : _b, onExitComplete = _a.onExitComplete, exitBeforeEnter = _a.exitBeforeEnter, _c = _a.presenceAffectsLayout, presenceAffectsLayout = _c === void 0 ? true : _c;\n    // We want to force a re-render once all exiting animations have finished. We\n    // either use a local forceRender function, or one from a parent context if it exists.\n    var forceRender = useForceUpdate();\n    var layoutContext = useContext(SharedLayoutContext);\n    if (isSharedLayout(layoutContext)) {\n        forceRender = layoutContext.forceUpdate;\n    }\n    var isInitialRender = useRef(true);\n    // Filter out any children that aren't ReactElements. We can only track ReactElements with a props.key\n    var filteredChildren = onlyElements(children);\n    // Keep a living record of the children we're actually rendering so we\n    // can diff to figure out which are entering and exiting\n    var presentChildren = useRef(filteredChildren);\n    // A lookup table to quickly reference components by key\n    var allChildren = useRef(new Map())\n        .current;\n    // A living record of all currently exiting components.\n    var exiting = useRef(new Set()).current;\n    updateChildLookup(filteredChildren, allChildren);\n    // If this is the initial component render, just deal with logic surrounding whether\n    // we play onMount animations or not.\n    if (isInitialRender.current) {\n        isInitialRender.current = false;\n        return (React.createElement(React.Fragment, null, filteredChildren.map(function (child) { return (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, initial: initial ? undefined : false, presenceAffectsLayout: presenceAffectsLayout }, child)); })));\n    }\n    // If this is a subsequent render, deal with entering and exiting children\n    var childrenToRender = __spreadArray([], __read(filteredChildren));\n    // Diff the keys of the currently-present and target children to update our\n    // exiting list.\n    var presentKeys = presentChildren.current.map(getChildKey);\n    var targetKeys = filteredChildren.map(getChildKey);\n    // Diff the present children with our target children and mark those that are exiting\n    var numPresent = presentKeys.length;\n    for (var i = 0; i < numPresent; i++) {\n        var key = presentKeys[i];\n        if (targetKeys.indexOf(key) === -1) {\n            exiting.add(key);\n        }\n        else {\n            // In case this key has re-entered, remove from the exiting list\n            exiting.delete(key);\n        }\n    }\n    // If we currently have exiting children, and we're deferring rendering incoming children\n    // until after all current children have exiting, empty the childrenToRender array\n    if (exitBeforeEnter && exiting.size) {\n        childrenToRender = [];\n    }\n    // Loop through all currently exiting components and clone them to overwrite `animate`\n    // with any `exit` prop they might have defined.\n    exiting.forEach(function (key) {\n        // If this component is actually entering again, early return\n        if (targetKeys.indexOf(key) !== -1)\n            return;\n        var child = allChildren.get(key);\n        if (!child)\n            return;\n        var insertionIndex = presentKeys.indexOf(key);\n        var onExit = function () {\n            allChildren.delete(key);\n            exiting.delete(key);\n            // Remove this child from the present children\n            var removeIndex = presentChildren.current.findIndex(function (presentChild) { return presentChild.key === key; });\n            presentChildren.current.splice(removeIndex, 1);\n            // Defer re-rendering until all exiting children have indeed left\n            if (!exiting.size) {\n                presentChildren.current = filteredChildren;\n                forceRender();\n                onExitComplete && onExitComplete();\n            }\n        };\n        childrenToRender.splice(insertionIndex, 0, React.createElement(PresenceChild, { key: getChildKey(child), isPresent: false, onExitComplete: onExit, custom: custom, presenceAffectsLayout: presenceAffectsLayout }, child));\n    });\n    // Add `MotionContext` even to children that don't need it to ensure we're rendering\n    // the same tree between renders\n    childrenToRender = childrenToRender.map(function (child) {\n        var key = child.key;\n        return exiting.has(key) ? (child) : (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, presenceAffectsLayout: presenceAffectsLayout }, child));\n    });\n    presentChildren.current = childrenToRender;\n    if (process.env.NODE_ENV !== \"production\" &&\n        exitBeforeEnter &&\n        childrenToRender.length > 1) {\n        console.warn(\"You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour.\");\n    }\n    return (React.createElement(React.Fragment, null, exiting.size\n        ? childrenToRender\n        : childrenToRender.map(function (child) { return cloneElement(child); })));\n};\n\nexport { AnimatePresence };\n","import { __read } from 'tslib';\nimport { useCallback, useRef, useState } from 'react';\nimport { useUnmountEffect } from './use-unmount-effect.js';\n\nfunction useForceUpdate() {\n    var unloadingRef = useRef(false);\n    var _a = __read(useState(0), 2), forcedRenderCount = _a[0], setForcedRenderCount = _a[1];\n    useUnmountEffect(function () { return (unloadingRef.current = true); });\n    return useCallback(function () {\n        !unloadingRef.current && setForcedRenderCount(forcedRenderCount + 1);\n    }, [forcedRenderCount]);\n}\n\nexport { useForceUpdate };\n"],"sourceRoot":""}