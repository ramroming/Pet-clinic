{"version":3,"sources":["components/pages/postAd/PostAd.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","components/shared/hooks/fetch-hook.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.js","../node_modules/framer-motion/dist/es/components/AnimatePresence/index.js","../node_modules/framer-motion/dist/es/utils/use-force-update.js","components/pages/adoptionAds/adoptionMotion.js"],"names":["itemMotion","adoptionMotion","PostAd","useState","isLoading","pets","responseError","petsArr","setPetsArr","sendRequest","useFetch","auth","useContext","authContext","useEffect","isMount","oldState","getPets","a","process","token","message","className","div","variants","initial","animate","exit","exitBeforeEnter","length","style","width","color","to","state","from","padding","map","pet","index","name","src","photo","URL","createObjectURL","Blob","Uint8Array","data","alt","id","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","useCallback","url","method","body","headers","fetch","response","json","parsedData","ok","Error","error","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","presenceId","getPresenceId","PresenceChild","_a","children","isPresent","onExitComplete","custom","presenceAffectsLayout","presenceChildren","useConstant","newChildrenMap","context","useMemo","childId","set","allComplete","isComplete","register","delete","undefined","_","React","size","PresenceContext","Provider","Map","getChildKey","child","AnimatePresence","_b","_c","forceRender","unloadingRef","useRef","__read","forcedRenderCount","setForcedRenderCount","useUnmountEffect","current","useForceUpdate","layoutContext","SharedLayoutContext","isSharedLayout","forceUpdate","isInitialRender","filteredChildren","filtered","Children","isValidElement","onlyElements","presentChildren","allChildren","exiting","Set","updateChildLookup","childrenToRender","__spreadArray","presentKeys","targetKeys","numPresent","indexOf","add","get","insertionIndex","splice","removeIndex","findIndex","presentChild","has","cloneElement","opacity","final","transition","duration"],"mappings":"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","file":"static/js/23.5b32065f.chunk.js","sourcesContent":["import { useState, useEffect, useContext } from \"react\"\r\nimport { AnimatePresence, motion } from \"framer-motion\"\r\nimport { adoptionMotion } from \"../../pages/adoptionAds/adoptionMotion\"\r\nimport useFetch from '../../shared/hooks/fetch-hook'\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport { authContext } from \"../../shared/context/auth-context\"\r\n\r\nconst itemMotion = adoptionMotion\r\n\r\n\r\nconst PostAd = () => {\r\n\r\n  const [petsArr, setPetsArr] = useState({\r\n    isLoading: true,\r\n    pets: [],\r\n    responseError: false,\r\n  })\r\n  const sendRequest = useFetch()\r\n  const auth = useContext(authContext)\r\n\r\n\r\n  useEffect(() => {\r\n    let isMount = true\r\n    if (isMount)\r\n      setPetsArr((oldState) => {\r\n        return {...oldState, isLoading: true}\r\n      })\r\n    \r\n    const getPets = async () => {\r\n      try {\r\n        const pets = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}users/me/pets/`, 'GET', null, {\r\n          'Authorization': `Bearer ${auth.token}`\r\n        })\r\n        if (pets && isMount) {\r\n          setPetsArr((oldState) => {\r\n            return {...oldState, isLoading: false, pets: pets}\r\n          })\r\n        }\r\n      } catch (e) {\r\n        if (isMount)\r\n          setPetsArr((oldState) => {\r\n            return {...oldState, responseError: e.message, isLoading: false}\r\n          })\r\n      }\r\n    }\r\n    getPets()\r\n    return () => {\r\n      isMount = false\r\n    }\r\n\r\n  }, [auth.token, sendRequest])\r\n\r\n  return (\r\n    <div className=\"post-pet-container\">\r\n      <div className=\"post-pet-dark-container flex-col gap-24p falign-center\">\r\n        <p className=\"select-pet\">Select your pet that you want to put up for adoption: </p>\r\n        {petsArr.isLoading &&\r\n            <motion.div\r\n              variants={itemMotion}\r\n              initial='initial'\r\n              animate='final'\r\n              exit='exit'\r\n              className=\"flex-row fjust-center\">\r\n              <div className=\"lds-ripple\"><div></div><div></div></div>\r\n            </motion.div>\r\n          }\r\n        <div className=\"post-pets-container flex-col gap-16p falign-center\">\r\n        <AnimatePresence exitBeforeEnter>\r\n          \r\n          {petsArr && petsArr.pets.length === 0 && !petsArr.isLoading &&\r\n                <div className=\"flex-col falign-center gap-24p\" style={{ width: '70%' }}>\r\n                  <p style={{ color: 'white' }}>Looks like you have no registered pets, you can register your pet from here</p>\r\n                  <Link\r\n                    to={`/registerpet`}\r\n                    state={{ from: '/postad' }}\r\n                    className=\"btn-r btn-r-blue\"\r\n                    style={{ width: '9rem', padding: '.5rem' }}>\r\n                    Register pet\r\n                  </Link>\r\n                </div>\r\n              }\r\n        </AnimatePresence>\r\n          {\r\n            petsArr.pets.map((pet, index) => {\r\n              return (\r\n                <motion.div\r\n                  key={pet.id}\r\n                  variants={itemMotion}\r\n                  initial='initial'\r\n                  animate='final'\r\n                  className=\"pet-to-post flex-col gap-8p falign-center\">\r\n                  <p className=\"post-pet-name\">{pet.name}</p>\r\n                  <img src={pet.photo ? URL.createObjectURL(new Blob([new Uint8Array(pet.photo.data)])) : '/media/imgs/cat.png'} alt=\"pet-img\" className=\"post-pet-img\" />\r\n                  <Link\r\n                  className=\"post-pet-button btn-rec-purple\"\r\n                  to={`/postpreview/${pet.id}`}\r\n                  >Put up for adoption</Link>\r\n                </motion.div>\r\n              )\r\n            })\r\n          }\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default PostAd","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","\r\n\r\n// this custom hook contains the logic of sending a request to the server and getting databack, we wrap it with a useCallback so that it won't create the function every time the component using the hooks rerenders\r\n\r\nimport { useCallback } from \"react\"\r\n\r\nconst useFetch = () => {\r\n\r\n\r\n  const sendRequest = useCallback(async (\r\n    url,\r\n    method = 'GET',\r\n    body = null,\r\n    headers = {},\r\n\r\n\r\n  ) => {\r\n    try {\r\n      // 'Content-Type': 'application/json'\r\n      const response = await fetch(url, {\r\n      method,\r\n      headers,\r\n      body,\r\n    })\r\n      const parsedData = await response.json()\r\n  \r\n      if (!response.ok) {\r\n        throw new Error(parsedData.error)\r\n      }\r\n      return parsedData\r\n      \r\n    } catch (e) {\r\n      throw e\r\n    }\r\n    \r\n    \r\n  \r\n  \r\n  }, []) \r\n  return sendRequest\r\n}\r\nexport default useFetch","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import * as React from 'react';\nimport { useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { useConstant } from '../../utils/use-constant.js';\n\nvar presenceId = 0;\nfunction getPresenceId() {\n    var id = presenceId;\n    presenceId++;\n    return id;\n}\nvar PresenceChild = function (_a) {\n    var children = _a.children, initial = _a.initial, isPresent = _a.isPresent, onExitComplete = _a.onExitComplete, custom = _a.custom, presenceAffectsLayout = _a.presenceAffectsLayout;\n    var presenceChildren = useConstant(newChildrenMap);\n    var id = useConstant(getPresenceId);\n    var context = useMemo(function () { return ({\n        id: id,\n        initial: initial,\n        isPresent: isPresent,\n        custom: custom,\n        onExitComplete: function (childId) {\n            presenceChildren.set(childId, true);\n            var allComplete = true;\n            presenceChildren.forEach(function (isComplete) {\n                if (!isComplete)\n                    allComplete = false;\n            });\n            allComplete && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n        },\n        register: function (childId) {\n            presenceChildren.set(childId, false);\n            return function () { return presenceChildren.delete(childId); };\n        },\n    }); }, \n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    presenceAffectsLayout ? undefined : [isPresent]);\n    useMemo(function () {\n        presenceChildren.forEach(function (_, key) { return presenceChildren.set(key, false); });\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(function () {\n        !isPresent && !presenceChildren.size && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n    }, [isPresent]);\n    return (React.createElement(PresenceContext.Provider, { value: context }, children));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n","import { __spreadArray, __read } from 'tslib';\nimport * as React from 'react';\nimport { useContext, useRef, cloneElement, Children, isValidElement } from 'react';\nimport { useForceUpdate } from '../../utils/use-force-update.js';\nimport { PresenceChild } from './PresenceChild.js';\nimport { SharedLayoutContext, isSharedLayout } from '../../context/SharedLayoutContext.js';\n\nfunction getChildKey(child) {\n    return child.key || \"\";\n}\nfunction updateChildLookup(children, allChildren) {\n    var seenChildren = process.env.NODE_ENV !== \"production\" ? new Set() : null;\n    children.forEach(function (child) {\n        var key = getChildKey(child);\n        if (process.env.NODE_ENV !== \"production\" && seenChildren) {\n            if (seenChildren.has(key)) {\n                console.warn(\"Children of AnimatePresence require unique keys. \\\"\" + key + \"\\\" is a duplicate.\");\n            }\n            seenChildren.add(key);\n        }\n        allChildren.set(key, child);\n    });\n}\nfunction onlyElements(children) {\n    var filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    Children.forEach(children, function (child) {\n        if (isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * @library\n *\n * Any `Frame` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { Frame, AnimatePresence } from 'framer'\n *\n * // As items are added and removed from `items`\n * export function Items({ items }) {\n *   return (\n *     <AnimatePresence>\n *       {items.map(item => (\n *         <Frame\n *           key={item.id}\n *           initial={{ opacity: 0 }}\n *           animate={{ opacity: 1 }}\n *           exit={{ opacity: 0 }}\n *         />\n *       ))}\n *     </AnimatePresence>\n *   )\n * }\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * @motion\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nvar AnimatePresence = function (_a) {\n    var children = _a.children, custom = _a.custom, _b = _a.initial, initial = _b === void 0 ? true : _b, onExitComplete = _a.onExitComplete, exitBeforeEnter = _a.exitBeforeEnter, _c = _a.presenceAffectsLayout, presenceAffectsLayout = _c === void 0 ? true : _c;\n    // We want to force a re-render once all exiting animations have finished. We\n    // either use a local forceRender function, or one from a parent context if it exists.\n    var forceRender = useForceUpdate();\n    var layoutContext = useContext(SharedLayoutContext);\n    if (isSharedLayout(layoutContext)) {\n        forceRender = layoutContext.forceUpdate;\n    }\n    var isInitialRender = useRef(true);\n    // Filter out any children that aren't ReactElements. We can only track ReactElements with a props.key\n    var filteredChildren = onlyElements(children);\n    // Keep a living record of the children we're actually rendering so we\n    // can diff to figure out which are entering and exiting\n    var presentChildren = useRef(filteredChildren);\n    // A lookup table to quickly reference components by key\n    var allChildren = useRef(new Map())\n        .current;\n    // A living record of all currently exiting components.\n    var exiting = useRef(new Set()).current;\n    updateChildLookup(filteredChildren, allChildren);\n    // If this is the initial component render, just deal with logic surrounding whether\n    // we play onMount animations or not.\n    if (isInitialRender.current) {\n        isInitialRender.current = false;\n        return (React.createElement(React.Fragment, null, filteredChildren.map(function (child) { return (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, initial: initial ? undefined : false, presenceAffectsLayout: presenceAffectsLayout }, child)); })));\n    }\n    // If this is a subsequent render, deal with entering and exiting children\n    var childrenToRender = __spreadArray([], __read(filteredChildren));\n    // Diff the keys of the currently-present and target children to update our\n    // exiting list.\n    var presentKeys = presentChildren.current.map(getChildKey);\n    var targetKeys = filteredChildren.map(getChildKey);\n    // Diff the present children with our target children and mark those that are exiting\n    var numPresent = presentKeys.length;\n    for (var i = 0; i < numPresent; i++) {\n        var key = presentKeys[i];\n        if (targetKeys.indexOf(key) === -1) {\n            exiting.add(key);\n        }\n        else {\n            // In case this key has re-entered, remove from the exiting list\n            exiting.delete(key);\n        }\n    }\n    // If we currently have exiting children, and we're deferring rendering incoming children\n    // until after all current children have exiting, empty the childrenToRender array\n    if (exitBeforeEnter && exiting.size) {\n        childrenToRender = [];\n    }\n    // Loop through all currently exiting components and clone them to overwrite `animate`\n    // with any `exit` prop they might have defined.\n    exiting.forEach(function (key) {\n        // If this component is actually entering again, early return\n        if (targetKeys.indexOf(key) !== -1)\n            return;\n        var child = allChildren.get(key);\n        if (!child)\n            return;\n        var insertionIndex = presentKeys.indexOf(key);\n        var onExit = function () {\n            allChildren.delete(key);\n            exiting.delete(key);\n            // Remove this child from the present children\n            var removeIndex = presentChildren.current.findIndex(function (presentChild) { return presentChild.key === key; });\n            presentChildren.current.splice(removeIndex, 1);\n            // Defer re-rendering until all exiting children have indeed left\n            if (!exiting.size) {\n                presentChildren.current = filteredChildren;\n                forceRender();\n                onExitComplete && onExitComplete();\n            }\n        };\n        childrenToRender.splice(insertionIndex, 0, React.createElement(PresenceChild, { key: getChildKey(child), isPresent: false, onExitComplete: onExit, custom: custom, presenceAffectsLayout: presenceAffectsLayout }, child));\n    });\n    // Add `MotionContext` even to children that don't need it to ensure we're rendering\n    // the same tree between renders\n    childrenToRender = childrenToRender.map(function (child) {\n        var key = child.key;\n        return exiting.has(key) ? (child) : (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, presenceAffectsLayout: presenceAffectsLayout }, child));\n    });\n    presentChildren.current = childrenToRender;\n    if (process.env.NODE_ENV !== \"production\" &&\n        exitBeforeEnter &&\n        childrenToRender.length > 1) {\n        console.warn(\"You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour.\");\n    }\n    return (React.createElement(React.Fragment, null, exiting.size\n        ? childrenToRender\n        : childrenToRender.map(function (child) { return cloneElement(child); })));\n};\n\nexport { AnimatePresence };\n","import { __read } from 'tslib';\nimport { useCallback, useRef, useState } from 'react';\nimport { useUnmountEffect } from './use-unmount-effect.js';\n\nfunction useForceUpdate() {\n    var unloadingRef = useRef(false);\n    var _a = __read(useState(0), 2), forcedRenderCount = _a[0], setForcedRenderCount = _a[1];\n    useUnmountEffect(function () { return (unloadingRef.current = true); });\n    return useCallback(function () {\n        !unloadingRef.current && setForcedRenderCount(forcedRenderCount + 1);\n    }, [forcedRenderCount]);\n}\n\nexport { useForceUpdate };\n","const adoptionMotion = {\r\n  initial: {\r\n    opacity: 0\r\n  },\r\n  final: {\r\n    opacity: 1,\r\n    transition: {\r\n      duration: 1\r\n    }\r\n  },\r\n  exit: {\r\n    opacity: 0,\r\n    transition: {\r\n      duration: 0.5\r\n    }\r\n  },\r\n}\r\n\r\nexport { adoptionMotion }"],"sourceRoot":""}