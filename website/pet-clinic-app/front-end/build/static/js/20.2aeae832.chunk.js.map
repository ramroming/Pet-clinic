{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","components/shared/hooks/adoptionad-hook.js","components/pages/adoptionAd/AdoptionAd.js","components/shared/hooks/fetch-hook.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/utils/modal/modalMotion.js","components/utils/modal/Modal.js","../node_modules/dateformat/lib/dateformat.js","components/utils/formErrorMsg/InputError.js","../node_modules/framer-motion/dist/es/components/AnimatePresence/PresenceChild.js","../node_modules/framer-motion/dist/es/components/AnimatePresence/index.js","../node_modules/framer-motion/dist/es/utils/use-force-update.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","adoptionAd","state","action","type","length","field","errorMsg","responseError","isLoading","responseData","data","isCommenting","isAdopting","adoptResponse","error","comment","missingStory","missingComment","checkModal","useAdoptionAd","initialState","useReducer","initialData","finalConfirm","AdoptionAd","dispatch","sendRequest","useFetch","auth","useContext","authContext","id","useParams","setPageIsLoading","pageLoadingContext","navigate","useNavigate","useEffect","isMount","getAdoptionAd","a","process","token","message","submitComment","JSON","stringify","ad_id","window","location","reload","adoptPet","adopting","result","Modal","modalClass","header","body","redirectTo","className","pet_name","breed_name","birth_date","gender","colors","username","dateFormat","date","photo","src","URL","createObjectURL","Blob","Uint8Array","alt","owner_id","userId","requested","userRole","onClick","story","trainings","map","training","index","Fragment","trainer_first_name","trainer_last_name","InputError","direction","style","top","margin","class","msg","name","cols","rows","placeholder","onChange","e","currentTarget","color","textAlign","width","padding","comments","user_id","user_type","text","useCallback","url","method","headers","fetch","response","json","parsedData","ok","Error","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","modalMotion","initial","y","final","exit","modalVariant","props","useState","show","setShow","AnimatePresence","motion","div","variants","animate","setTimeout","refresh","timezone","timezoneClip","mask","utc","gmt","test","undefined","Date","isNaN","TypeError","maskSlice","String","masks","slice","_","_d","D","_m","_H","_M","_s","_L","_o","getTimezoneOffset","_W","getWeek","_N","getDayOfWeek","flags","d","dd","pad","ddd","i18n","dayNames","DDD","getDayName","m","dayName","short","dddd","DDDD","mm","mmm","monthNames","mmmm","yy","yyyy","h","hh","H","HH","M","MM","s","ss","l","L","Math","floor","t","timeNames","tt","T","TT","Z","formatTimezone","o","abs","p","S","W","WW","N","replace","match","default","shortDate","paddedShortDate","mediumDate","longDate","fullDate","shortTime","mediumTime","longTime","isoDate","isoTime","isoDateTime","isoUtcDateTime","expiresHeaderFormat","val","len","padStart","_ref","_ref$short","_short","today","yesterday","setDate","tomorrow","targetThursday","getFullYear","getMonth","getDate","getDay","firstThursday","ds","setHours","getHours","weekDiff","dow","pop","presenceId","getPresenceId","PresenceChild","_a","children","isPresent","onExitComplete","custom","presenceAffectsLayout","presenceChildren","useConstant","newChildrenMap","context","useMemo","childId","set","allComplete","isComplete","register","delete","React","size","PresenceContext","Provider","Map","getChildKey","child","_b","exitBeforeEnter","_c","forceRender","unloadingRef","useRef","__read","forcedRenderCount","setForcedRenderCount","useUnmountEffect","current","useForceUpdate","layoutContext","SharedLayoutContext","isSharedLayout","forceUpdate","isInitialRender","filteredChildren","filtered","Children","isValidElement","onlyElements","presentChildren","allChildren","exiting","Set","updateChildLookup","childrenToRender","__spreadArray","presentKeys","targetKeys","numPresent","indexOf","add","get","insertionIndex","splice","removeIndex","findIndex","presentChild","has","cloneElement"],"mappings":"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","file":"static/js/20.2aeae832.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import { useReducer } from 'react'\r\n\r\n// This custom hook is currently adjusted to validate user inputs when signing up using userReducer\r\nconst adoptionAd = (state, action) => {\r\n  switch (action.type) {\r\n\r\n    // ***************** Forms input validations *************************\r\n    case 'enterValue': {\r\n      if (action.value.length > 400)\r\n        return {\r\n          ...state,\r\n          [action.field]: {\r\n            ...state[action.field],\r\n            errorMsg: 'Max Characters length is 400 !!',\r\n          }\r\n        }\r\n      return {\r\n        ...state,\r\n        [action.field]: {\r\n          errorMsg: '',\r\n          value: action.value\r\n        }\r\n      }\r\n    }\r\n   \r\n   \r\n\r\n  \r\n    // *************** state management when using fetch *******************\r\n    \r\n    case 'start': {\r\n      return {\r\n        ...state,\r\n        responseError: '',\r\n        isLoading: true,\r\n\r\n      }\r\n    }\r\n    \r\n    // when fetching data is succeded \r\n    case 'success': {\r\n      return {\r\n        ...state,\r\n        responseError: '',\r\n        isLoading: false,\r\n        responseData: action.data,\r\n\r\n      }\r\n    }\r\n    case 'successComment': {\r\n      return {\r\n        ...state,\r\n        responseError: '',\r\n        isCommenting: false,\r\n\r\n      }\r\n    }\r\n    case 'successAdopting': {\r\n      return {\r\n        ...state,\r\n        responseError: '',\r\n        isAdopting: false,\r\n        adoptResponse: action.data\r\n      }\r\n    }\r\n\r\n    // when fetching data is failed\r\n    case 'failure': {\r\n      return {\r\n        ...state,\r\n        responseError: action.error,\r\n        isLoading: false,\r\n        isCommenting: false,\r\n        isAdopting: false\r\n      }\r\n    }\r\n\r\n\r\n    case 'validate': {\r\n      if (!state.comment.value)\r\n        return {\r\n          ...state,\r\n          missingComment: 'Please fill a story about your pet'\r\n        }\r\n      return {\r\n        ...state,\r\n        isCommenting: true,\r\n        missingStory: '',\r\n        responseError: ''\r\n      }\r\n    }\r\n    case 'errorModalExit': {\r\n      return {\r\n        ...state,\r\n        responseError: ''\r\n      }\r\n    }\r\n    case 'checkModalExit': {\r\n      return {\r\n        ...state,\r\n        checkModal: false\r\n      }\r\n    }\r\n    case 'checkModalEnter': {\r\n      return {\r\n        ...state,\r\n        checkModal: true\r\n      }\r\n    }\r\n    case 'finalConfirm': {\r\n      return {\r\n        ...state,\r\n        isAdopting: true,\r\n        checkModal: false\r\n\r\n      }\r\n    }\r\n\r\n\r\n    default:\r\n      break\r\n  }\r\n}\r\n\r\nconst useAdoptionAd = (initialState) => {\r\n  const [state, dispatch] = useReducer(adoptionAd, initialState)\r\n  return [state, dispatch]\r\n}\r\nexport default useAdoptionAd","import useAdoptionAd from \"../../shared/hooks/adoptionad-hook\"\r\nimport useFetch from '../../shared/hooks/fetch-hook'\r\nimport { useContext, useEffect } from 'react'\r\nimport { authContext } from '../../shared/context/auth-context'\r\nimport { useParams } from \"react-router-dom\"\r\nimport { pageLoadingContext } from \"../../shared/context/loading-context\"\r\nimport Modal from \"../../utils/modal/Modal\"\r\nimport React from 'react'\r\nimport dateFormat from \"dateformat\"\r\nimport InputError from \"../../utils/formErrorMsg/InputError\"\r\nimport { useNavigate } from \"react-router-dom\"\r\n\r\n\r\nconst initialData = {\r\n  comment: {\r\n    value: '',\r\n    errorMsg: ''\r\n  },\r\n  isLoading: false,\r\n  isCommenting: false,\r\n  responseData: null,\r\n  responseError: '',\r\n  missingComment: '',\r\n  checkModal: false,\r\n  finalConfirm: false,\r\n  isAdopting: false,\r\n  adoptResponse: ''\r\n  \r\n\r\n}\r\nconst AdoptionAd = () => {\r\n\r\n  const [state, dispatch] = useAdoptionAd(initialData)\r\n  const sendRequest = useFetch()\r\n  const auth = useContext(authContext)\r\n  const { id } = useParams()\r\n  const setPageIsLoading = useContext(pageLoadingContext).setPageIsLoading\r\n  const navigate = useNavigate()\r\n\r\n  useEffect(() => {\r\n    let isMount = true\r\n    const getAdoptionAd = async () => {\r\n      dispatch({ type: 'start' })\r\n      try {\r\n        const adoptionAd = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}adoptionads/${id}`, 'GET', null, {\r\n\r\n          'Authorization': `Bearer ${auth.token}`\r\n        })\r\n        if (adoptionAd && isMount)\r\n          dispatch({ type: 'success', data: adoptionAd })\r\n      } catch (e) {\r\n        if (isMount)\r\n          dispatch({ type: 'failure', error: e.message })\r\n      }\r\n    }\r\n    getAdoptionAd()\r\n    return () => {\r\n      setPageIsLoading(false)\r\n      isMount = false\r\n    }\r\n  }, [auth.token, dispatch, id, sendRequest, setPageIsLoading])\r\n\r\n  useEffect(() => {\r\n    setPageIsLoading(state.isLoading)\r\n  }, [state.isLoading, setPageIsLoading])\r\n\r\n  const submitComment = () => {\r\n    if (!state.isLoading)\r\n      dispatch({ type: 'validate' })\r\n  }\r\n  useEffect(() => {\r\n    let isMount = true\r\n    setPageIsLoading(state.isCommenting)\r\n    if(state.isCommenting) {\r\n      const submitComment = async () => {\r\n        try {\r\n          const result = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}users/me/comments/`, 'POST', JSON.stringify({\r\n            ad_id: id,\r\n            comment: state.comment.value\r\n          }), {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${auth.token}`\r\n          })\r\n          if (result && isMount){\r\n            dispatch({ type: 'successComment'})\r\n            window.location.reload()\r\n          }\r\n        } catch (e) {\r\n          if(isMount)\r\n            dispatch({ type: 'failure', error: e.message })\r\n        }\r\n      }\r\n      submitComment()\r\n    }\r\n    return () => {\r\n      setPageIsLoading(false)\r\n      isMount = false\r\n    }\r\n  }, [auth.token, dispatch, id, sendRequest, setPageIsLoading, state.comment.value, state.isCommenting, navigate])\r\n\r\n  useEffect(() => {\r\n    let isMount = true\r\n    const adoptPet = async () => {\r\n      try {\r\n        const adopting = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}users/me/requests/${id}`, 'POST', null, {\r\n          'Authorization': `Bearer ${auth.token}`\r\n        })\r\n        if (adopting && isMount)\r\n          dispatch({ type: 'successAdopting', data: adopting.result})\r\n      } catch (e) {\r\n        if (isMount)\r\n          dispatch({ type: 'failure', error: e.message })\r\n      }\r\n    }\r\n    if (state.isAdopting)\r\n      adoptPet()\r\n    return () => {\r\n      setPageIsLoading(false)\r\n      isMount = false\r\n    }\r\n  }, [auth.token, dispatch, id, sendRequest, setPageIsLoading, state.isAdopting])\r\n  useEffect(() => {\r\n    setPageIsLoading(state.isAdopting)\r\n  }, [state.isAdopting, setPageIsLoading])\r\n  return (\r\n    <>\r\n      {/* UI modals */}\r\n      {state.responseError &&\r\n        <Modal\r\n          modalClass='error'\r\n          header='Oops!!'\r\n          body={state.responseError}\r\n          dispatch={dispatch}\r\n          redirectTo={'/'}\r\n        />}\r\n        {state.checkModal &&\r\n        <Modal\r\n          modalClass='check'\r\n          header=''\r\n          body={\r\n            <>\r\n              <p>You are about to send an adoption request to the pet owner. Your first name, last name and your phone number will be sent to the pet owner as well so that he can contact you as soon as possible are you sure you want to proceed ?</p>\r\n            </>\r\n          }\r\n          dispatch={dispatch}\r\n        />}\r\n        {state.adoptResponse &&\r\n        <Modal\r\n          modalClass='success'\r\n          header='Success!!'\r\n          body={state.adoptResponse}\r\n          dispatch={dispatch}\r\n          redirectTo={'/myprofile/myadoptionrequests'}\r\n        />}\r\n      <div className=\" adoption-ad-wrapper home-container flex-col falign-center gap-24p \">\r\n\r\n        {/* first main flex item ++ pet intro, info and photo ++ */}\r\n        <div className=\"pet-basic-info-wrapper flex-col falign-center fjust-center gap-24p\">\r\n\r\n          {/* first mini flex */}\r\n\r\n          <div className=\" wrapper flex-col falign-center fjust-center gap-16p\">\r\n\r\n            <div className=\"intro flex-col falign-center fjust-center gap-16p\">\r\n              <p className=\"intro-hi\">hi i'm</p>\r\n              <p className=\"pet-name\">{state.responseData && state.responseData.adoptionAd.pet_name}</p>\r\n              <p className=\"pet-breed\">Breed: {state.responseData && state.responseData.adoptionAd.breed_name}</p>\r\n            </div>\r\n\r\n            <div className=\"pet-info flex-col gap-16p\">\r\n\r\n              <div className=\"flex-row gap-8p\">\r\n                <label>Age: </label>\r\n                <p>{state.responseData && state.responseData.adoptionAd.birth_date}</p>\r\n              </div>\r\n\r\n              <div className=\"flex-row gap-8p\">\r\n                <label>Gender: </label>\r\n                <p>{state.responseData && state.responseData.adoptionAd.gender}</p>\r\n              </div>\r\n\r\n              <div className=\"flex-row gap-8p\">\r\n                <label>Color: </label>\r\n                <p>{state.responseData && state.responseData.adoptionAd.colors}</p>\r\n              </div>\r\n\r\n              <div className=\"flex-row gap-8p\">\r\n                <label>Located At: </label>\r\n                <p>{state.responseData && state.responseData.adoptionAd.username ? 'Owner house' : 'Shelter' }</p>\r\n              </div>\r\n\r\n            </div>\r\n\r\n\r\n          </div>\r\n\r\n          {/* second mini flex */}\r\n          <div className=\"flex-col gap-16p fjust-center falign-center pet-image-container\">\r\n            <p>Posted By: <b>{state.responseData && state.responseData.adoptionAd.username ? state.responseData.adoptionAd.username : 'Shelter'}</b></p>\r\n            <p>On: <b>{state.responseData && dateFormat(state.responseData.adoptionAd.date, 'default')}</b></p>\r\n            {state.responseData && state.responseData.adoptionAd.photo ?\r\n              <>\r\n                <img src={URL.createObjectURL(new Blob([new Uint8Array(state.responseData.adoptionAd.photo.data)]))} alt=\"pet\" />\r\n                {state.responseData.adoptionAd.owner_id !== auth.userId && !state.responseData.adoptionAd.requested && auth.userRole === null && <button \r\n                onClick={() => dispatch({ type: 'checkModalEnter' })}\r\n                className=\"btn-rec adopt-btn\">Adopt me!</button>}\r\n                \r\n              </>\r\n              :\r\n              <>\r\n                <img src=\"/media/imgs/nophotopet.jpg\" alt='pet' />\r\n\r\n\r\n              </>\r\n\r\n            }\r\n          </div>\r\n\r\n        </div>\r\n\r\n        {/* second main flex item ++ pet story & trainings ++ */}\r\n        <div className=\"pet-story flex-col gap-16p\">\r\n\r\n          <div className=\"adopt-story flex-col\">\r\n            <h2>My story</h2>\r\n            <p>{state.responseData && state.responseData.adoptionAd.story}</p>\r\n          </div>\r\n\r\n          <div className=\"training-story flex-col gap-8p\">\r\n\r\n            {state.responseData &&\r\n              <>\r\n                <h2>My trainings <i className=\"fas fa-medal\"></i></h2>\r\n\r\n                {!state.responseData.adoptionAd.trainings.length ?\r\n                  <p>No Previous trainings for this pet </p> :\r\n                  state.responseData.adoptionAd.trainings.map((training, index) => {\r\n                    return (\r\n                      <React.Fragment key={index}>\r\n                        <div className=\"flex-row gap-8p training-wrapper\">\r\n                          <label>Training: </label>\r\n                          <p>{training.training}</p>\r\n                        </div>\r\n\r\n                        <div className=\"flex-row gap-8p training-wrapper\">\r\n                          <label>Trained by: </label>\r\n                          <p>{training.trainer_first_name + ' ' + training.trainer_last_name}</p>\r\n                        </div>\r\n                      </React.Fragment>\r\n                    )\r\n                  })\r\n\r\n                }\r\n              </>\r\n            }\r\n\r\n\r\n\r\n          </div>\r\n\r\n\r\n\r\n\r\n\r\n        </div>\r\n\r\n\r\n\r\n        {/* third main flex item ++ check comments and leave a comment ++ */}\r\n\r\n        <div className=\"comments-area-wrapper flex-col falign-center gap-8p\">\r\n\r\n\r\n          {/* wrapper of the comment text area and button to send comment */}\r\n          <div className=\"leave-comment-wrapper flex-col falign-center gap-16p\">\r\n            {state.comment.errorMsg && <InputError direction='bottom' style={{ top: '2%', margin: '.5rem' }} class='error-msg' msg={state.comment.errorMsg} />}\r\n            <textarea \r\n            name=\"comment\" \r\n            id=\"comment\"\r\n            cols=\"35\" \r\n            rows=\"5\" \r\n            placeholder=\"feel free to share a comment!\"\r\n            value={state.comment.value}\r\n            onChange={(e) => dispatch({ type: 'enterValue', field: 'comment', value: e.currentTarget.value})}>\r\n            \r\n            </textarea>\r\n            {state.missingComment && <p style={{ color: 'red', textAlign: 'center', width: '70%', margin: 'auto', padding: '0.5rem' }}>{state.missingComment}</p>}\r\n            <input \r\n            onClick={submitComment}\r\n            className=\"btn-rec-purple\" \r\n            type=\"submit\" />\r\n          </div>\r\n\r\n\r\n          {/*wrapper of all the comments, I'm guessing we'll use pagination again :') */}\r\n          <div className=\"all-comments-wrapper flex-col falign-center gap-8p\">\r\n\r\n\r\n            {/* each single comment wrapper */}\r\n            {state.responseData &&\r\n              <>\r\n                {!state.responseData.comments.length\r\n                  ?\r\n                  <div className=\"single-comment-wrapper flex-col gap-8p\">\r\n                    {/* user's comment */}\r\n                    <p>No comments yet on this post </p>\r\n\r\n                  </div>\r\n                  :\r\n                  state.responseData.comments.map((comment, index) => {\r\n                    return (\r\n                      <div key={index} className=\"single-comment-wrapper flex-col gap-8p\">\r\n\r\n                        {/* the username */}\r\n                        <div><i className=\"fas fa-user\"></i>{state.responseData.adoptionAd.owner_id === comment.user_id ? 'Owner' :\r\n                        comment.user_type !== 'client' ? 'Shelter' :\r\n                        comment.username}</div>\r\n                        <div><i className=\"fas fa-clock\"></i>{dateFormat(comment.date, 'default')}</div>\r\n                        {/* user's comment */}\r\n                        <p>{comment.text}</p>\r\n\r\n                      </div>\r\n                    )\r\n                  })}\r\n              </>\r\n\r\n            }\r\n\r\n\r\n          </div>\r\n\r\n        </div>\r\n\r\n\r\n      </div>\r\n\r\n\r\n    </>\r\n\r\n  )\r\n}\r\n\r\nexport default AdoptionAd\r\n","\r\n\r\n// this custom hook contains the logic of sending a request to the server and getting databack, we wrap it with a useCallback so that it won't create the function every time the component using the hooks rerenders\r\n\r\nimport { useCallback } from \"react\"\r\n\r\nconst useFetch = () => {\r\n\r\n\r\n  const sendRequest = useCallback(async (\r\n    url,\r\n    method = 'GET',\r\n    body = null,\r\n    headers = {},\r\n\r\n\r\n  ) => {\r\n    try {\r\n      // 'Content-Type': 'application/json'\r\n      const response = await fetch(url, {\r\n      method,\r\n      headers,\r\n      body,\r\n    })\r\n      const parsedData = await response.json()\r\n  \r\n      if (!response.ok) {\r\n        throw new Error(parsedData.error)\r\n      }\r\n      return parsedData\r\n      \r\n    } catch (e) {\r\n      throw e\r\n    }\r\n    \r\n    \r\n  \r\n  \r\n  }, []) \r\n  return sendRequest\r\n}\r\nexport default useFetch","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","const modalMotion = {\r\n  initial: {\r\n    y: '-100vh',\r\n  },\r\n  final: {\r\n    y: 0,\r\n  },\r\n  exit: {\r\n    y: '-100vh'\r\n  }\r\n}\r\nexport default modalMotion","import { AnimatePresence, motion } from \"framer-motion\"\r\nimport { useState } from \"react\"\r\nimport modalMotion from \"./modalMotion\"\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst modalVariant = modalMotion\r\n\r\nconst Modal = (props) => {\r\n\r\n  const [show, setShow] = useState(true)\r\n  const navigate = useNavigate()\r\n  return (\r\n    <>\r\n      <div className={`modal modal_${props.modalClass}`}>\r\n        <AnimatePresence>\r\n          {show && <motion.div \r\n          variants={modalVariant}\r\n          initial='initial'\r\n          animate='final'\r\n          exit='exit'\r\n\r\n          className={`modal-container modal-container__${props.modalClass} flex-col gap-16p falign-center`}>\r\n\r\n            <header className={`modal-header modal-header__${props.modalClass}`}>\r\n              {props.header}\r\n            </header>\r\n            <div className={`flex-col gap-8p modal-body modal-body__${props.modalClass}`}>\r\n              {props.body}\r\n            </div>\r\n            <footer className={`modal-footer modal-footer__${props.modalClass}`}>\r\n            {(props.modalClass === 'check' || props.modalClass === 'edit') && \r\n                <button\r\n                onClick={() => {\r\n                  setShow(false)\r\n                  setTimeout(() => {props.dispatch({ type: 'finalConfirm' })}, 300)\r\n                  \r\n                }}\r\n                className='btn-rec modal-button modal-button__confirm'>Confirm </button>\r\n              }\r\n              <button\r\n                onClick={() => {\r\n                  setShow(false)\r\n                  if (props.refresh)\r\n                    return  setTimeout(() => {window.location.reload()}, 300)\r\n                  if (props.redirectTo)\r\n                    return setTimeout(() => {navigate(props.redirectTo)}, 300)\r\n                    \r\n                  setTimeout(() => {props.dispatch({ type: `${props.modalClass}ModalExit` })}, 300)\r\n                  \r\n                }}\r\n                className={`btn-rec modal-button modal-button__${props.modalClass}`}>{props.modalClass === 'success' ? 'OK' : props.modalClass === 'check' ? 'Cancel' :props.modalClass === 'edit' ? 'Cancel' : 'Exit'}</button>\r\n\r\n              \r\n              \r\n            </footer>\r\n\r\n          </motion.div>}\r\n        </AnimatePresence>\r\n\r\n\r\n      </div>\r\n    </>\r\n\r\n  )\r\n  // modalClass, header, body, modalButtonClass, modalType\r\n}\r\n\r\nexport default Modal","var token=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\\1?|W{1,2}|[LlopSZN]|\"[^\"]*\"|'[^']*'/g;var timezone=/\\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\\b/g;var timezoneClip=/[^-+\\dA-Z]/g;export default function dateFormat(date,mask,utc,gmt){if(arguments.length===1&&typeof date===\"string\"&&!/\\d/.test(date)){mask=date;date=undefined}date=date||date===0?date:new Date;if(!(date instanceof Date)){date=new Date(date)}if(isNaN(date)){throw TypeError(\"Invalid date\")}mask=String(masks[mask]||mask||masks[\"default\"]);var maskSlice=mask.slice(0,4);if(maskSlice===\"UTC:\"||maskSlice===\"GMT:\"){mask=mask.slice(4);utc=true;if(maskSlice===\"GMT:\"){gmt=true}}var _=function _(){return utc?\"getUTC\":\"get\"};var _d=function d(){return date[_()+\"Date\"]()};var D=function D(){return date[_()+\"Day\"]()};var _m=function m(){return date[_()+\"Month\"]()};var y=function y(){return date[_()+\"FullYear\"]()};var _H=function H(){return date[_()+\"Hours\"]()};var _M=function M(){return date[_()+\"Minutes\"]()};var _s=function s(){return date[_()+\"Seconds\"]()};var _L=function L(){return date[_()+\"Milliseconds\"]()};var _o=function o(){return utc?0:date.getTimezoneOffset()};var _W=function W(){return getWeek(date)};var _N=function N(){return getDayOfWeek(date)};var flags={d:function d(){return _d()},dd:function dd(){return pad(_d())},ddd:function ddd(){return i18n.dayNames[D()]},DDD:function DDD(){return getDayName({y:y(),m:_m(),d:_d(),_:_(),dayName:i18n.dayNames[D()],short:true})},dddd:function dddd(){return i18n.dayNames[D()+7]},DDDD:function DDDD(){return getDayName({y:y(),m:_m(),d:_d(),_:_(),dayName:i18n.dayNames[D()+7]})},m:function m(){return _m()+1},mm:function mm(){return pad(_m()+1)},mmm:function mmm(){return i18n.monthNames[_m()]},mmmm:function mmmm(){return i18n.monthNames[_m()+12]},yy:function yy(){return String(y()).slice(2)},yyyy:function yyyy(){return pad(y(),4)},h:function h(){return _H()%12||12},hh:function hh(){return pad(_H()%12||12)},H:function H(){return _H()},HH:function HH(){return pad(_H())},M:function M(){return _M()},MM:function MM(){return pad(_M())},s:function s(){return _s()},ss:function ss(){return pad(_s())},l:function l(){return pad(_L(),3)},L:function L(){return pad(Math.floor(_L()/10))},t:function t(){return _H()<12?i18n.timeNames[0]:i18n.timeNames[1]},tt:function tt(){return _H()<12?i18n.timeNames[2]:i18n.timeNames[3]},T:function T(){return _H()<12?i18n.timeNames[4]:i18n.timeNames[5]},TT:function TT(){return _H()<12?i18n.timeNames[6]:i18n.timeNames[7]},Z:function Z(){return gmt?\"GMT\":utc?\"UTC\":formatTimezone(date)},o:function o(){return(_o()>0?\"-\":\"+\")+pad(Math.floor(Math.abs(_o())/60)*100+Math.abs(_o())%60,4)},p:function p(){return(_o()>0?\"-\":\"+\")+pad(Math.floor(Math.abs(_o())/60),2)+\":\"+pad(Math.floor(Math.abs(_o())%60),2)},S:function S(){return[\"th\",\"st\",\"nd\",\"rd\"][_d()%10>3?0:(_d()%100-_d()%10!=10)*_d()%10]},W:function W(){return _W()},WW:function WW(){return pad(_W())},N:function N(){return _N()}};return mask.replace(token,function(match){if(match in flags){return flags[match]()}return match.slice(1,match.length-1)})}export var masks={default:\"ddd mmm dd yyyy HH:MM:ss\",shortDate:\"m/d/yy\",paddedShortDate:\"mm/dd/yyyy\",mediumDate:\"mmm d, yyyy\",longDate:\"mmmm d, yyyy\",fullDate:\"dddd, mmmm d, yyyy\",shortTime:\"h:MM TT\",mediumTime:\"h:MM:ss TT\",longTime:\"h:MM:ss TT Z\",isoDate:\"yyyy-mm-dd\",isoTime:\"HH:MM:ss\",isoDateTime:\"yyyy-mm-dd'T'HH:MM:sso\",isoUtcDateTime:\"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'\",expiresHeaderFormat:\"ddd, dd mmm yyyy HH:MM:ss Z\"};export var i18n={dayNames:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\",\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],monthNames:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\",\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],timeNames:[\"a\",\"p\",\"am\",\"pm\",\"A\",\"P\",\"AM\",\"PM\"]};var pad=function pad(val){var len=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;return String(val).padStart(len,\"0\")};var getDayName=function getDayName(_ref){var y=_ref.y,m=_ref.m,d=_ref.d,_=_ref._,dayName=_ref.dayName,_ref$short=_ref[\"short\"],_short=_ref$short===void 0?false:_ref$short;var today=new Date;var yesterday=new Date;yesterday.setDate(yesterday[_+\"Date\"]()-1);var tomorrow=new Date;tomorrow.setDate(tomorrow[_+\"Date\"]()+1);var today_d=function today_d(){return today[_+\"Date\"]()};var today_m=function today_m(){return today[_+\"Month\"]()};var today_y=function today_y(){return today[_+\"FullYear\"]()};var yesterday_d=function yesterday_d(){return yesterday[_+\"Date\"]()};var yesterday_m=function yesterday_m(){return yesterday[_+\"Month\"]()};var yesterday_y=function yesterday_y(){return yesterday[_+\"FullYear\"]()};var tomorrow_d=function tomorrow_d(){return tomorrow[_+\"Date\"]()};var tomorrow_m=function tomorrow_m(){return tomorrow[_+\"Month\"]()};var tomorrow_y=function tomorrow_y(){return tomorrow[_+\"FullYear\"]()};if(today_y()===y&&today_m()===m&&today_d()===d){return _short?\"Tdy\":\"Today\"}else if(yesterday_y()===y&&yesterday_m()===m&&yesterday_d()===d){return _short?\"Ysd\":\"Yesterday\"}else if(tomorrow_y()===y&&tomorrow_m()===m&&tomorrow_d()===d){return _short?\"Tmw\":\"Tomorrow\"}return dayName};var getWeek=function getWeek(date){var targetThursday=new Date(date.getFullYear(),date.getMonth(),date.getDate());targetThursday.setDate(targetThursday.getDate()-(targetThursday.getDay()+6)%7+3);var firstThursday=new Date(targetThursday.getFullYear(),0,4);firstThursday.setDate(firstThursday.getDate()-(firstThursday.getDay()+6)%7+3);var ds=targetThursday.getTimezoneOffset()-firstThursday.getTimezoneOffset();targetThursday.setHours(targetThursday.getHours()-ds);var weekDiff=(targetThursday-firstThursday)/(864e5*7);return 1+Math.floor(weekDiff)};var getDayOfWeek=function getDayOfWeek(date){var dow=date.getDay();if(dow===0){dow=7}return dow};export var formatTimezone=function formatTimezone(date){return(String(date).match(timezone)||[\"\"]).pop().replace(timezoneClip,\"\").replace(/GMT\\+0000/g,\"UTC\")};","const InputError = (props) => {\r\n  return (\r\n    <span style={props.style} className={props.class}>{props.msg}</span>\r\n  )\r\n}\r\n\r\nexport default InputError","import * as React from 'react';\nimport { useMemo } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.js';\nimport { useConstant } from '../../utils/use-constant.js';\n\nvar presenceId = 0;\nfunction getPresenceId() {\n    var id = presenceId;\n    presenceId++;\n    return id;\n}\nvar PresenceChild = function (_a) {\n    var children = _a.children, initial = _a.initial, isPresent = _a.isPresent, onExitComplete = _a.onExitComplete, custom = _a.custom, presenceAffectsLayout = _a.presenceAffectsLayout;\n    var presenceChildren = useConstant(newChildrenMap);\n    var id = useConstant(getPresenceId);\n    var context = useMemo(function () { return ({\n        id: id,\n        initial: initial,\n        isPresent: isPresent,\n        custom: custom,\n        onExitComplete: function (childId) {\n            presenceChildren.set(childId, true);\n            var allComplete = true;\n            presenceChildren.forEach(function (isComplete) {\n                if (!isComplete)\n                    allComplete = false;\n            });\n            allComplete && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n        },\n        register: function (childId) {\n            presenceChildren.set(childId, false);\n            return function () { return presenceChildren.delete(childId); };\n        },\n    }); }, \n    /**\n     * If the presence of a child affects the layout of the components around it,\n     * we want to make a new context value to ensure they get re-rendered\n     * so they can detect that layout change.\n     */\n    presenceAffectsLayout ? undefined : [isPresent]);\n    useMemo(function () {\n        presenceChildren.forEach(function (_, key) { return presenceChildren.set(key, false); });\n    }, [isPresent]);\n    /**\n     * If there's no `motion` components to fire exit animations, we want to remove this\n     * component immediately.\n     */\n    React.useEffect(function () {\n        !isPresent && !presenceChildren.size && (onExitComplete === null || onExitComplete === void 0 ? void 0 : onExitComplete());\n    }, [isPresent]);\n    return (React.createElement(PresenceContext.Provider, { value: context }, children));\n};\nfunction newChildrenMap() {\n    return new Map();\n}\n\nexport { PresenceChild };\n","import { __spreadArray, __read } from 'tslib';\nimport * as React from 'react';\nimport { useContext, useRef, cloneElement, Children, isValidElement } from 'react';\nimport { useForceUpdate } from '../../utils/use-force-update.js';\nimport { PresenceChild } from './PresenceChild.js';\nimport { SharedLayoutContext, isSharedLayout } from '../../context/SharedLayoutContext.js';\n\nfunction getChildKey(child) {\n    return child.key || \"\";\n}\nfunction updateChildLookup(children, allChildren) {\n    var seenChildren = process.env.NODE_ENV !== \"production\" ? new Set() : null;\n    children.forEach(function (child) {\n        var key = getChildKey(child);\n        if (process.env.NODE_ENV !== \"production\" && seenChildren) {\n            if (seenChildren.has(key)) {\n                console.warn(\"Children of AnimatePresence require unique keys. \\\"\" + key + \"\\\" is a duplicate.\");\n            }\n            seenChildren.add(key);\n        }\n        allChildren.set(key, child);\n    });\n}\nfunction onlyElements(children) {\n    var filtered = [];\n    // We use forEach here instead of map as map mutates the component key by preprending `.$`\n    Children.forEach(children, function (child) {\n        if (isValidElement(child))\n            filtered.push(child);\n    });\n    return filtered;\n}\n/**\n * `AnimatePresence` enables the animation of components that have been removed from the tree.\n *\n * When adding/removing more than a single child, every child **must** be given a unique `key` prop.\n *\n * @library\n *\n * Any `Frame` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { Frame, AnimatePresence } from 'framer'\n *\n * // As items are added and removed from `items`\n * export function Items({ items }) {\n *   return (\n *     <AnimatePresence>\n *       {items.map(item => (\n *         <Frame\n *           key={item.id}\n *           initial={{ opacity: 0 }}\n *           animate={{ opacity: 1 }}\n *           exit={{ opacity: 0 }}\n *         />\n *       ))}\n *     </AnimatePresence>\n *   )\n * }\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * @motion\n *\n * Any `motion` components that have an `exit` property defined will animate out when removed from\n * the tree.\n *\n * ```jsx\n * import { motion, AnimatePresence } from 'framer-motion'\n *\n * export const Items = ({ items }) => (\n *   <AnimatePresence>\n *     {items.map(item => (\n *       <motion.div\n *         key={item.id}\n *         initial={{ opacity: 0 }}\n *         animate={{ opacity: 1 }}\n *         exit={{ opacity: 0 }}\n *       />\n *     ))}\n *   </AnimatePresence>\n * )\n * ```\n *\n * You can sequence exit animations throughout a tree using variants.\n *\n * If a child contains multiple `motion` components with `exit` props, it will only unmount the child\n * once all `motion` components have finished animating out. Likewise, any components using\n * `usePresence` all need to call `safeToRemove`.\n *\n * @public\n */\nvar AnimatePresence = function (_a) {\n    var children = _a.children, custom = _a.custom, _b = _a.initial, initial = _b === void 0 ? true : _b, onExitComplete = _a.onExitComplete, exitBeforeEnter = _a.exitBeforeEnter, _c = _a.presenceAffectsLayout, presenceAffectsLayout = _c === void 0 ? true : _c;\n    // We want to force a re-render once all exiting animations have finished. We\n    // either use a local forceRender function, or one from a parent context if it exists.\n    var forceRender = useForceUpdate();\n    var layoutContext = useContext(SharedLayoutContext);\n    if (isSharedLayout(layoutContext)) {\n        forceRender = layoutContext.forceUpdate;\n    }\n    var isInitialRender = useRef(true);\n    // Filter out any children that aren't ReactElements. We can only track ReactElements with a props.key\n    var filteredChildren = onlyElements(children);\n    // Keep a living record of the children we're actually rendering so we\n    // can diff to figure out which are entering and exiting\n    var presentChildren = useRef(filteredChildren);\n    // A lookup table to quickly reference components by key\n    var allChildren = useRef(new Map())\n        .current;\n    // A living record of all currently exiting components.\n    var exiting = useRef(new Set()).current;\n    updateChildLookup(filteredChildren, allChildren);\n    // If this is the initial component render, just deal with logic surrounding whether\n    // we play onMount animations or not.\n    if (isInitialRender.current) {\n        isInitialRender.current = false;\n        return (React.createElement(React.Fragment, null, filteredChildren.map(function (child) { return (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, initial: initial ? undefined : false, presenceAffectsLayout: presenceAffectsLayout }, child)); })));\n    }\n    // If this is a subsequent render, deal with entering and exiting children\n    var childrenToRender = __spreadArray([], __read(filteredChildren));\n    // Diff the keys of the currently-present and target children to update our\n    // exiting list.\n    var presentKeys = presentChildren.current.map(getChildKey);\n    var targetKeys = filteredChildren.map(getChildKey);\n    // Diff the present children with our target children and mark those that are exiting\n    var numPresent = presentKeys.length;\n    for (var i = 0; i < numPresent; i++) {\n        var key = presentKeys[i];\n        if (targetKeys.indexOf(key) === -1) {\n            exiting.add(key);\n        }\n        else {\n            // In case this key has re-entered, remove from the exiting list\n            exiting.delete(key);\n        }\n    }\n    // If we currently have exiting children, and we're deferring rendering incoming children\n    // until after all current children have exiting, empty the childrenToRender array\n    if (exitBeforeEnter && exiting.size) {\n        childrenToRender = [];\n    }\n    // Loop through all currently exiting components and clone them to overwrite `animate`\n    // with any `exit` prop they might have defined.\n    exiting.forEach(function (key) {\n        // If this component is actually entering again, early return\n        if (targetKeys.indexOf(key) !== -1)\n            return;\n        var child = allChildren.get(key);\n        if (!child)\n            return;\n        var insertionIndex = presentKeys.indexOf(key);\n        var onExit = function () {\n            allChildren.delete(key);\n            exiting.delete(key);\n            // Remove this child from the present children\n            var removeIndex = presentChildren.current.findIndex(function (presentChild) { return presentChild.key === key; });\n            presentChildren.current.splice(removeIndex, 1);\n            // Defer re-rendering until all exiting children have indeed left\n            if (!exiting.size) {\n                presentChildren.current = filteredChildren;\n                forceRender();\n                onExitComplete && onExitComplete();\n            }\n        };\n        childrenToRender.splice(insertionIndex, 0, React.createElement(PresenceChild, { key: getChildKey(child), isPresent: false, onExitComplete: onExit, custom: custom, presenceAffectsLayout: presenceAffectsLayout }, child));\n    });\n    // Add `MotionContext` even to children that don't need it to ensure we're rendering\n    // the same tree between renders\n    childrenToRender = childrenToRender.map(function (child) {\n        var key = child.key;\n        return exiting.has(key) ? (child) : (React.createElement(PresenceChild, { key: getChildKey(child), isPresent: true, presenceAffectsLayout: presenceAffectsLayout }, child));\n    });\n    presentChildren.current = childrenToRender;\n    if (process.env.NODE_ENV !== \"production\" &&\n        exitBeforeEnter &&\n        childrenToRender.length > 1) {\n        console.warn(\"You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour.\");\n    }\n    return (React.createElement(React.Fragment, null, exiting.size\n        ? childrenToRender\n        : childrenToRender.map(function (child) { return cloneElement(child); })));\n};\n\nexport { AnimatePresence };\n","import { __read } from 'tslib';\nimport { useCallback, useRef, useState } from 'react';\nimport { useUnmountEffect } from './use-unmount-effect.js';\n\nfunction useForceUpdate() {\n    var unloadingRef = useRef(false);\n    var _a = __read(useState(0), 2), forcedRenderCount = _a[0], setForcedRenderCount = _a[1];\n    useUnmountEffect(function () { return (unloadingRef.current = true); });\n    return useCallback(function () {\n        !unloadingRef.current && setForcedRenderCount(forcedRenderCount + 1);\n    }, [forcedRenderCount]);\n}\n\nexport { useForceUpdate };\n"],"sourceRoot":""}