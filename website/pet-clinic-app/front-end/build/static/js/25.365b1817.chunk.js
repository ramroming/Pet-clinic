(this["webpackJsonppet-clinic-app"]=this["webpackJsonppet-clinic-app"]||[]).push([[25],{263:function(e,r,a){"use strict";a.r(r);var t=a(8),s=a.n(t),n=a(11),c=a(4),o=a(1),l=a(38),i=a(30),u=a(71),d=a(6),b=a(33),p=a(0),m={first_name:{value:"",errorMsg:""},last_name:{value:"",errorMsg:""},username:{value:"",errorMsg:""},phone_number:{value:"",errorMsg:""},address:{value:"",errorMsg:""},email:{value:"",errorMsg:""},password:{value:"",errorMsg:""},re_password:{value:"",errorMsg:""},dataToSend:{},isLoading:!1,missingInput:!1,responseError:"",responseData:{}};r.default=function(){var e=Object(u.a)(m),r=Object(c.a)(e,2),a=r[0],t=r[1],j=Object(i.a)(),f=Object(o.useContext)(d.a).setPageIsLoading,O=function(){var e=Object(n.a)(s.a.mark((function e(r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),t({type:"validate"});case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){var e=function(){var e=Object(n.a)(s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j("".concat("https://pet-verse-app.herokuapp.com/","users"),"POST",JSON.stringify(a.dataToSend),{"Content-Type":"application/json"});case 3:(r=e.sent)&&t({type:"success",data:r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"failure",error:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();a.isLoading&&e()}),[a.dataToSend,a.isLoading,j,t]),Object(o.useEffect)((function(){f(a.isLoading)}),[a.isLoading,f]),Object(p.jsxs)(p.Fragment,{children:[a.responseData.token&&Object(p.jsx)(b.a,{modalClass:"success",header:"Success!!",body:"Client has been registered successfully",dispatch:t,refresh:!0}),Object(p.jsx)("h4",{children:"Registration"}),Object(p.jsx)("div",{className:"flex-col falign-center",style:{paddingTop:"1rem"},children:Object(p.jsxs)("form",{className:"form-container flex-col gap-16p falign-center",action:"/",method:"POST",onSubmit:function(e){return O(e)},children:[Object(p.jsx)("a",{className:"logo-link",href:"/#",children:Object(p.jsx)("img",{src:"/media/imgs/favicon.png",alt:"",className:"logo"})}),Object(p.jsxs)("div",{className:"input-wrapper flex-row fjust-between",children:[Object(p.jsx)("label",{className:"half-label",htmlFor:"first_name",children:"First Name:*"}),Object(p.jsx)("input",{type:"text",name:"first_name",id:"first_name",onChange:function(e){t({type:"enterValue",field:"first_name",value:e.currentTarget.value})}})]}),Object(p.jsxs)("div",{className:"input-wrapper flex-row fjust-between",children:[Object(p.jsx)("label",{className:"half-label",htmlFor:"last_name",children:"Last Name:*"}),Object(p.jsx)("input",{type:"text",name:"last_name",id:"last_name",onChange:function(e){t({type:"enterValue",field:"last_name",value:e.currentTarget.value})}})]}),Object(p.jsxs)("div",{className:"input-wrapper flex-row fjust-between",children:[Object(p.jsx)("label",{className:"half-label",htmlFor:"username",children:"Username:*"}),Object(p.jsx)("input",{type:"text",name:"username",id:"username",onChange:function(e){t({type:"enterValue",field:"username",value:e.currentTarget.value})}}),a.username.errorMsg&&Object(p.jsx)(l.a,{class:"error-msg",msg:a.username.errorMsg})]}),Object(p.jsxs)("div",{className:"input-wrapper flex-row fjust-between",children:[Object(p.jsx)("label",{className:"half-label",htmlFor:"phone_number",children:"Phone Number:"}),Object(p.jsx)("input",{type:"text",name:"phone_number",id:"phone_number",placeholder:"eg. 506 022 23 80",onChange:function(e){t({type:"enterValue",field:"phone_number",value:e.currentTarget.value})},onBlur:function(){t({type:"blurPhone"})}}),a.phone_number.errorMsg&&Object(p.jsx)(l.a,{class:"error-msg",msg:a.phone_number.errorMsg})]}),Object(p.jsxs)("div",{className:"input-wrapper flex-row fjust-between",children:[Object(p.jsx)("label",{className:"half-label",htmlFor:"address",children:"Address:*"}),Object(p.jsx)("textarea",{name:"address",id:"address",cols:"30",rows:"4",onChange:function(e){t({type:"enterValue",field:"address",value:e.currentTarget.value})}})]}),Object(p.jsxs)("div",{className:"input-wrapper flex-row fjust-between",children:[Object(p.jsx)("label",{className:"half-label",htmlFor:"email",children:"Email:*"}),Object(p.jsx)("input",{type:"text",name:"email",id:"email",placeholder:"example@gmail.com",onChange:function(e){t({type:"enterValue",field:"email",value:e.currentTarget.value})},onBlur:function(){t({type:"blurEmail"})}}),a.email.errorMsg&&Object(p.jsx)(l.a,{class:"error-msg",msg:a.email.errorMsg})]}),Object(p.jsxs)("div",{className:"input-wrapper flex-row fjust-between",children:[Object(p.jsx)("label",{className:"half-label",htmlFor:"password",children:"Password:*"}),Object(p.jsx)("input",{type:"password",name:"password",id:"password",onChange:function(e){t({type:"enterValue",field:"password",value:e.currentTarget.value})},onBlur:function(){t({type:"blurPassword"})}}),a.password.errorMsg&&Object(p.jsx)(l.a,{class:"error-msg",msg:a.password.errorMsg})]}),Object(p.jsxs)("div",{className:"input-wrapper flex-row fjust-between",children:[Object(p.jsx)("label",{className:"half-label",htmlFor:"rePassword",children:"Re-password:*"}),Object(p.jsx)("input",{type:"password",name:"rePassword",id:"rePassword",onChange:function(e){t({type:"enterValue",field:"re_password",value:e.currentTarget.value})},onBlur:function(){t({type:"blurRePassword"})}}),a.re_password.errorMsg&&Object(p.jsx)(l.a,{class:"error-msg",msg:a.re_password.errorMsg})]}),a.missingInput&&Object(p.jsx)("p",{style:{color:"red",textAlign:"center",width:"70%",margin:"auto"},children:"Please Fill mandatory fields *"}),a.responseError&&Object(p.jsx)("p",{style:{color:"red",textAlign:"center",width:"70%",margin:"auto"},children:a.responseError}),Object(p.jsx)("div",{className:"button-wrapper flex-row gap-8p fjust-center",children:Object(p.jsx)("button",{type:"submit",className:a.isLoading?"btn-r btn-r-dark disabled":"btn-r btn-r-dark",disabled:a.isLoading,children:"Register Client"})})]})})]})}},30:function(e,r,a){"use strict";var t=a(8),s=a.n(t),n=a(11),c=a(1);r.a=function(){var e=Object(c.useCallback)(function(){var e=Object(n.a)(s.a.mark((function e(r){var a,t,n,c,o,l=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:"GET",t=l.length>2&&void 0!==l[2]?l[2]:null,n=l.length>3&&void 0!==l[3]?l[3]:{},e.prev=3,e.next=6,fetch(r,{method:a,headers:n,body:t});case 6:return c=e.sent,e.next=9,c.json();case 9:if(o=e.sent,c.ok){e.next=12;break}throw new Error(o.error);case 12:return e.abrupt("return",o);case 15:throw e.prev=15,e.t0=e.catch(3),e.t0;case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(r){return e.apply(this,arguments)}}(),[]);return e}},33:function(e,r,a){"use strict";var t=a(4),s=a(55),n=a(267),c=a(1),o={initial:{y:"-100vh"},final:{y:0},exit:{y:"-100vh"}},l=a(2),i=a(0),u=o;r.a=function(e){var r=Object(c.useState)(!0),a=Object(t.a)(r,2),o=a[0],d=a[1],b=Object(l.h)();return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"modal modal_".concat(e.modalClass),children:Object(i.jsx)(s.a,{children:o&&Object(i.jsxs)(n.a.div,{variants:u,initial:"initial",animate:"final",exit:"exit",className:"modal-container modal-container__".concat(e.modalClass," flex-col gap-16p falign-center"),children:[Object(i.jsx)("header",{className:"modal-header modal-header__".concat(e.modalClass),children:e.header}),Object(i.jsx)("div",{className:"flex-col gap-8p modal-body modal-body__".concat(e.modalClass),children:e.body}),Object(i.jsxs)("footer",{className:"modal-footer modal-footer__".concat(e.modalClass),children:[("check"===e.modalClass||"edit"===e.modalClass)&&Object(i.jsx)("button",{onClick:function(){d(!1),setTimeout((function(){e.dispatch({type:"finalConfirm"})}),300)},className:"btn-rec modal-button modal-button__confirm",children:"Confirm "}),Object(i.jsx)("button",{onClick:function(){return d(!1),e.refresh?setTimeout((function(){window.location.reload()}),300):e.redirectTo?setTimeout((function(){b(e.redirectTo)}),300):void setTimeout((function(){e.dispatch({type:"".concat(e.modalClass,"ModalExit")})}),300)},className:"btn-rec modal-button modal-button__".concat(e.modalClass),children:"success"===e.modalClass?"OK":"check"===e.modalClass||"edit"===e.modalClass?"Cancel":"Exit"})]})]})})})})}},38:function(e,r,a){"use strict";var t=a(0);r.a=function(e){return Object(t.jsx)("span",{style:e.style,className:e.class,children:e.msg})}},55:function(e,r,a){"use strict";a.d(r,"a",(function(){return m}));var t=a(24),s=a(1),n=a(40);var c=a(37),o=a(39),l=0;function i(){var e=l;return l++,e}var u=function(e){var r=e.children,a=e.initial,t=e.isPresent,n=e.onExitComplete,l=e.custom,u=e.presenceAffectsLayout,b=Object(o.a)(d),p=Object(o.a)(i),m=Object(s.useMemo)((function(){return{id:p,initial:a,isPresent:t,custom:l,onExitComplete:function(e){b.set(e,!0);var r=!0;b.forEach((function(e){e||(r=!1)})),r&&(null===n||void 0===n||n())},register:function(e){return b.set(e,!1),function(){return b.delete(e)}}}}),u?void 0:[t]);return Object(s.useMemo)((function(){b.forEach((function(e,r){return b.set(r,!1)}))}),[t]),s.useEffect((function(){!t&&!b.size&&(null===n||void 0===n||n())}),[t]),s.createElement(c.a.Provider,{value:m},r)};function d(){return new Map}var b=a(45);function p(e){return e.key||""}var m=function(e){var r=e.children,a=e.custom,c=e.initial,o=void 0===c||c,l=e.onExitComplete,i=e.exitBeforeEnter,d=e.presenceAffectsLayout,m=void 0===d||d,j=function(){var e=Object(s.useRef)(!1),r=Object(t.c)(Object(s.useState)(0),2),a=r[0],c=r[1];return Object(n.a)((function(){return e.current=!0})),Object(s.useCallback)((function(){!e.current&&c(a+1)}),[a])}(),f=Object(s.useContext)(b.b);Object(b.c)(f)&&(j=f.forceUpdate);var O=Object(s.useRef)(!0),h=function(e){var r=[];return s.Children.forEach(e,(function(e){Object(s.isValidElement)(e)&&r.push(e)})),r}(r),v=Object(s.useRef)(h),g=Object(s.useRef)(new Map).current,w=Object(s.useRef)(new Set).current;if(function(e,r){e.forEach((function(e){var a=p(e);r.set(a,e)}))}(h,g),O.current)return O.current=!1,s.createElement(s.Fragment,null,h.map((function(e){return s.createElement(u,{key:p(e),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:m},e)})));for(var x=Object(t.e)([],Object(t.c)(h)),_=v.current.map(p),y=h.map(p),M=_.length,C=0;C<M;C++){var E=_[C];-1===y.indexOf(E)?w.add(E):w.delete(E)}return i&&w.size&&(x=[]),w.forEach((function(e){if(-1===y.indexOf(e)){var r=g.get(e);if(r){var t=_.indexOf(e);x.splice(t,0,s.createElement(u,{key:p(r),isPresent:!1,onExitComplete:function(){g.delete(e),w.delete(e);var r=v.current.findIndex((function(r){return r.key===e}));v.current.splice(r,1),w.size||(v.current=h,j(),l&&l())},custom:a,presenceAffectsLayout:m},r))}}})),x=x.map((function(e){var r=e.key;return w.has(r)?e:s.createElement(u,{key:p(e),isPresent:!0,presenceAffectsLayout:m},e)})),v.current=x,s.createElement(s.Fragment,null,w.size?x:x.map((function(e){return Object(s.cloneElement)(e)})))}},71:function(e,r,a){"use strict";var t=a(4),s=a(27),n=a(31),c=a(1),o=a(66),l=a.n(o),i=function(e,r){switch(r.type){case"enterValue":return Object(n.a)(Object(n.a)({},e),{},Object(s.a)({},r.field,Object(n.a)(Object(n.a)({},e[r.field]),{},{value:r.value})));case"blurPhone":var a=l.a.isMobilePhone(e.phone_number.value);if(!e.phone_number.value||a)return Object(n.a)(Object(n.a)({},e),{},{phone_number:Object(n.a)(Object(n.a)({},e.phone_number),{},{errorMsg:""})});if(!a)return Object(n.a)(Object(n.a)({},e),{},{phone_number:Object(n.a)(Object(n.a)({},e.phone_number),{},{errorMsg:"Invalid Phone number"})});break;case"blurEmail":var t=l.a.isEmail(e.email.value);if(!e.email.value||t)return Object(n.a)(Object(n.a)({},e),{},{email:Object(n.a)(Object(n.a)({},e.email),{},{errorMsg:""})});if(!t)return Object(n.a)(Object(n.a)({},e),{},{email:Object(n.a)(Object(n.a)({},e.email),{},{errorMsg:"Invalid Email Address"})});break;case"blurPassword":return e.password.value?l.a.isStrongPassword(e.password.value)?e.re_password.value&&e.password.value!==e.re_password.value?Object(n.a)(Object(n.a)({},e),{},{password:Object(n.a)(Object(n.a)({},e.password),{},{errorMsg:""}),re_password:Object(n.a)(Object(n.a)({},e.re_password),{},{errorMsg:"password not matched!!"})}):Object(n.a)(Object(n.a)({},e),{},{password:Object(n.a)(Object(n.a)({},e.password),{},{errorMsg:""}),re_password:Object(n.a)(Object(n.a)({},e.re_password),{},{errorMsg:""})}):e.re_password.value&&e.password.value!==e.re_password.value?Object(n.a)(Object(n.a)({},e),{},{password:Object(n.a)(Object(n.a)({},e.password),{},{errorMsg:"minlength:8, must include uppercase, numbers and special chars"}),re_password:Object(n.a)(Object(n.a)({},e.re_password),{},{errorMsg:"password not matched!!"})}):Object(n.a)(Object(n.a)({},e),{},{password:Object(n.a)(Object(n.a)({},e.password),{},{errorMsg:"minlength:8, must include uppercase, numbers and special chars"}),re_password:Object(n.a)(Object(n.a)({},e.re_password),{},{errorMsg:""})}):Object(n.a)(Object(n.a)({},e),{},{password:Object(n.a)(Object(n.a)({},e.password),{},{errorMsg:""})});case"blurRePassword":var c=e.password.value===e.re_password.value;return e.re_password.value?c?Object(n.a)(Object(n.a)({},e),{},{re_password:Object(n.a)(Object(n.a)({},e.re_password),{},{errorMsg:""})}):Object(n.a)(Object(n.a)({},e),{},{re_password:Object(n.a)(Object(n.a)({},e.re_password),{},{errorMsg:"password not matched!!"})}):Object(n.a)(Object(n.a)({},e),{},{re_password:Object(n.a)(Object(n.a)({},e.re_password),{},{errorMsg:""})});case"validate":return e.isLoading?e:e.first_name.value&&e.last_name.value&&e.username.value&&e.email.value&&e.address.value&&e.password.value&&e.re_password.value&&e.phone_number.value?e.username.errorMsg||e.email.errorMsg||e.password.errorMsg||e.re_password.errorMsg||e.phone_number.errorMsg?e:Object(n.a)(Object(n.a)({},e),{},{dataToSend:{first_name:e.first_name.value,last_name:e.last_name.value,username:e.username.value,phone_number:e.phone_number.value,address:e.address.value,email:e.email.value,password:e.password.value},isLoading:!0,missingInput:!1}):Object(n.a)(Object(n.a)({},e),{},{missingInput:!0});case"success":return Object(n.a)(Object(n.a)({},e),{},{responseError:"",isLoading:!1,responseData:r.data});case"failure":return Object(n.a)(Object(n.a)({},e),{},{responseError:r.error,isLoading:!1})}};r.a=function(e){var r=Object(c.useReducer)(i,e),a=Object(t.a)(r,2);return[a[0],a[1]]}}}]);
//# sourceMappingURL=25.365b1817.chunk.js.map